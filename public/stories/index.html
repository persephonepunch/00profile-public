<!DOCTYPE html>
<html data-wf-page="6944254ba38bdfb5a9078690" data-wf-site="69437b5f2a4e8316713c38e3" lang="en"><head><link rel="preconnect" crossorigin="true" href="https://assets.website-files.com"><title>Stories</title><meta property="og:title" content="Stories" /><meta property="og:title" content="Stories"><meta name="twitter:title" content="Stories"><meta http-equiv="last-modified" content="Sat, 10 Jan 2026 03:41:31 GMT" /><meta charset="utf-8">
  
  
  
  <meta content="width=device-width, initial-scale=1" name="viewport">
  
  <link href="/assets/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="/assets/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="/assets/css/usc-profiles.webflow.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="/assets/images/favicon.jpg" rel="shortcut icon" type="image/x-icon">
  <link href="/assets/images/webclip.jpg" rel="apple-touch-icon">
  <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>
  <script type="module">
  import { Editor } from '@tiptap/core';
  import StarterKit from '@tiptap/starter-kit';
  import Image from '@tiptap/extension-image';
  (function() {
    const CONFIG = {
      formSelector: '#wf-form-story',
      xanoEndpoint: 'https://xerb-qpd6-hd8t.n7.xano.io/api:pIN2vLYu/stories',
      uploadcareKey: window.ENV_CONFIG?.UPLOADCARE_PUBLIC_KEY || ''
    };
    let uploadedFiles = null;
    let tiptapEditor = null;
    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', init)
      : init();
    function init() {
      const form = document.querySelector(CONFIG.formSelector);
      if (!form) return console.error('Form not found');
      initTiptapEditor();
      setupUploadcare();
      setupFormSubmission(form);
      console.log('‚úÖ Story form integration loaded');
    }
    function initTiptapEditor() {
      const editorContainer = document.getElementById('story-content-editor');
      const toolbar = document.getElementById('tiptap-toolbar');
      if (!editorContainer) return;
      tiptapEditor = new Editor({
        element: editorContainer,
        extensions: [
          StarterKit.configure({ heading: { levels: [1, 2, 3] } }),
          Image.configure({ inline: false, allowBase64: true })
        ],
        content: '<p>Write your story here...</p>',
        onUpdate: ({ editor }) => {
          const hiddenInput = document.getElementById('story_content_html');
          if (hiddenInput) hiddenInput.value = editor.getHTML();
        }
      });
      // Create toolbar buttons
      const buttons = [
        { label: 'H1', action: () => tiptapEditor.chain().focus().toggleHeading({ level: 1 }).run(), check: () =>
  tiptapEditor.isActive('heading', { level: 1 }) },
        { label: 'H2', action: () => tiptapEditor.chain().focus().toggleHeading({ level: 2 }).run(), check: () =>
  tiptapEditor.isActive('heading', { level: 2 }) },
        { label: 'H3', action: () => tiptapEditor.chain().focus().toggleHeading({ level: 3 }).run(), check: () =>
  tiptapEditor.isActive('heading', { level: 3 }) },
        { label: 'Bold', action: () => tiptapEditor.chain().focus().toggleBold().run(), check: () =>
  tiptapEditor.isActive('bold') },
        { label: 'Italic', action: () => tiptapEditor.chain().focus().toggleItalic().run(), check: () =>
  tiptapEditor.isActive('italic') },
        { label: 'List', action: () => tiptapEditor.chain().focus().toggleBulletList().run(), check: () =>
  tiptapEditor.isActive('bulletList') },
        { label: '1. List', action: () => tiptapEditor.chain().focus().toggleOrderedList().run(), check: () =>
  tiptapEditor.isActive('orderedList') },
        { label: 'Quote', action: () => tiptapEditor.chain().focus().toggleBlockquote().run(), check: () =>
  tiptapEditor.isActive('blockquote') },
        { label: 'Image', action: () => addImage(), check: () => false }
      ];
      buttons.forEach(({ label, action, check }) => {
        const btn = document.createElement('button');
        btn.textContent = label;
        btn.type = 'button';
        btn.onclick = (e) => { e.preventDefault(); action(); updateToolbar(); };
        toolbar.appendChild(btn);
      });
      function updateToolbar() {
        toolbar.querySelectorAll('button').forEach((btn, i) => {
          btn.classList.toggle('is-active', buttons[i].check());
        });
      }
      tiptapEditor.on('update', updateToolbar);
      tiptapEditor.on('selectionUpdate', updateToolbar);
    }
    function addImage() {
      const url = prompt('Enter image URL (or upload via Uploadcare below):');
      if (url) tiptapEditor.chain().focus().setImage({ src: url }).run();
    }
    function setupUploadcare() {
      const formInput = document.querySelector('uc-form-input[ctx-name="story"]');
      const hiddenInput = document.getElementById('story_hero');
      if (formInput) {
        new MutationObserver((mutations) => {
          mutations.forEach((m) => {
            if (m.attributeName === 'value') {
              try {
                const data = JSON.parse(formInput.getAttribute('value'));
                if (data?.length > 0) {
                  uploadedFiles = { allEntries: data };
                  if (hiddenInput) hiddenInput.value = data[0].cdnUrl || '';
                  console.log('‚úÖ Uploadcare files captured');
                }
              } catch (e) {}
            }
          });
        }).observe(formInput, { attributes: true, attributeFilter: ['value'] });
      }
    }
    function setupFormSubmission(form) {
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const submitBtn = form.querySelector('[type="submit"]');
        const originalText = submitBtn.value;
        submitBtn.value = 'Submitting...';
        submitBtn.disabled = true;
        try {
          const formData = {
            story_name: document.getElementById('story_name')?.value || '',
            story_email: document.getElementById('story_email')?.value || '',
            story_input: document.getElementById('story_input')?.value || '',
            story_tags: document.getElementById('story_tags')?.value || '',
            story_checkbox: document.getElementById('story_checkbox')?.checked ? 'true' : 'false',
            story_content_html: tiptapEditor ? tiptapEditor.getHTML() : '',
            uploadcare_uuid: '',
            uploadcare_url: '',
            uploadcare_file_name: '',
            uploadcare_file_size: 0,
            uploadcare_mime_type: ''
          };
          // Get Uploadcare data
          if (uploadedFiles?.allEntries?.length > 0) {
            const file = uploadedFiles.allEntries[0];
            formData.uploadcare_uuid = file.uuid || '';
            formData.uploadcare_url = file.cdnUrl || '';
            formData.uploadcare_file_name = file.name || '';
            formData.uploadcare_file_size = file.size || 0;
            formData.uploadcare_mime_type = file.mimeType || '';
          }
          console.log('üì§ Submitting:', formData);
          const response = await fetch(CONFIG.xanoEndpoint, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
          });
          if (!response.ok) throw new Error(`Server error: ${response.status}`);
          form.style.display = 'none';
          form.parentElement.querySelector('.w-form-done').style.display = 'block';
          console.log('‚úÖ Story submitted successfully');
        } catch (error) {
          console.error('‚ùå Error:', error);
          form.parentElement.querySelector('.w-form-fail').style.display = 'block';
        } finally {
          submitBtn.value = originalText;
          submitBtn.disabled = false;
        }
      });
    }
  })();
  </script>
  <!--  Disable Webflow native form handling  -->
  <script>
  var Webflow = Webflow || [];
  Webflow.push(function() {
    $(document).off('submit');
  });
  </script>
<style>:root {--image-i5cec3e91: url('');--image-7b40fadb: url('');--image-i5f5e633f: url('/assets/images/background_bigoaktree.jpg');}</style><style>.w-video.w-embed {
            aspect-ratio: 16 / 9;
        }</style></head>
<body>
  <div class="pageswrap">
    <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar w-nav">
      <a href="/" class="brand w-nav-brand"><img width="Auto" loading="lazy" alt="" src="/assets/images/usc_logo_horizontal_rgb_k_rev.svg" class="image-3"></a>
      <div class="menu-button w-nav-button">
        <div class="icon w-icon-nav-menu"></div>
      </div>
      <nav role="navigation" class="nav-menu w-nav-menu">
        <a href="/login/" class="navhead w-nav-link">Login</a>
        <a href="/stories/" aria-current="page" class="navhead w-nav-link w--current">Your Story</a>
        <a href="/profiles/" class="navhead w-nav-link">Profiles</a>
        <a data-w-id="1e3698c5-c6b7-668b-a362-a631a0baa014" href="#" class="navhead w-nav-link">Donate</a>
      </nav>
    </div>
    <header class="page-header"></header>
    <div class="page-main">
      <section class="section-2 x-hero">
        <div class="_00login">
          <div>
            <h1 class="tradeheading">register</h1>
          </div>
          <div class="abcheroform">
            <div class="w-layout-grid abcform-grid">
              <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c46-a9078690" class="form-block-custom w-form">
                <form id="wf-form-trade" name="wf-form-abcTrade" data-name="abctrade" action="https://xerb-qpd6-hd8t.n7.xano.io/api:9lz93PXx/trade" method="post" class="form-custom" data-wf-page-id="6944254ba38bdfb5a9078690" data-wf-element-id="994b36b4-ed9f-8548-f818-40e31adf3c47" data-ajax="true">
                  <div class="formdiv"><label for="First" class="abclabel">FIRST NAME</label><input class="tradename w-input" maxlength="256" name="First" data-name="First" placeholder=" " type="text" id="First"></div>
                  <div class="formdiv"><label for="Last" class="abclabel">LAST NAME</label><input class="tradename w-node-_994b36b4-ed9f-8548-f818-40e31adf3c4f-a9078690 w-input" maxlength="256" name="Last" data-name="Last" placeholder=" " type="text" id="Last" required=""></div>
                  <div class="formdiv"><label for="Firm" class="abclabel">password</label><input class="tradename w-node-_994b36b4-ed9f-8548-f818-40e31adf3c53-a9078690 w-input" maxlength="256" name="Firm" data-name="Firm" placeholder=" " type="text" id="Firm" required=""></div>
                  <div class="formdiv"><label for="Email" class="abclabel">EMAIL</label><input class="tradename w-input" maxlength="256" name="Email" data-name="Email" placeholder=" " type="email" id="Email" required=""></div><input type="submit" data-wait="Please wait..." class="button-abcgrid reverse w-button" value="Get Started">
                  <div id="w-node-fd49a337-dd78-d9ce-93a0-fa10f3d7630f-a9078690" class="register-right">
                    <a href="/login/" class="w-inline-block">
                      <div class="registered-link">Already Registered? ¬†Login</div>
                    </a>
                  </div>
                </form>
                <div class="successmessage w-form-done">
                  <div>Thank you! Your submission has been received!</div>
                </div>
                <div id="Error" class="error-message-abctrade w-form-fail">
                  <div>Oops! Something went wrong while submitting the form.</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="section-2 bg-neutral-lightest">
        <div></div>
        <section class="section-2 bg-neutral-lightest">
          <div id="wr-form-project" class="_00clientform">
            <h1 class="projectstart">submit your story</h1>
            <div class="_00formwrap">
              <div id="story" class="w-form">
                <form id="wf-form-story" name="wf-form-story" data-name="story" action="https://xerb-qpd6-hd8t.n7.xano.io/api:pIN2vLYu/story" method="post" data-wf-page-id="6944254ba38bdfb5a9078690" data-wf-element-id="994b36b4-ed9f-8548-f818-40e31adf3c67" data-ajax="true">
                  <div class="w-layout-grid grid-5">
                    <div id="story-name" class="formhalf w-node-_994b36b4-ed9f-8548-f818-40e31adf3c69-a9078690"><label for="story_name" class="field-label">name</label><input class="input w-input" maxlength="256" name="story_name" data-name="story_name" placeholder="" type="text" id="story_name" required=""></div>
                    <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c6d-a9078690" class="formhalf"><label for="story_email" class="field-label">email</label><input class="input w-input" maxlength="256" name="story_email" data-name="story_email" placeholder="" role="" type="email" id="story_email" required=""></div>
                    <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c71-a9078690" class="formhalf"><label for="story_summary" id="project-links" class="field-label">story summary</label><input class="input w-input" maxlength="256" name="story_summary" data-name="story_summary" placeholder="" type="text" id="story_summary"></div>
                    <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c75-a9078690" class="formhalf"><label for="story_tags" id="project-links" class="field-label">tags</label><input class="input w-input" maxlength="256" name="story_tags" data-name="story_tags" placeholder="comma separate the tags" type="text" id="story_tags"></div>
                    <div class="formhalf"><label for="project-links-3" id="project-links" class="field-label">permission to publish</label><label id="story-checkbox" class="w-checkbox checkbox-field">
                        <div class="w-checkbox-input w-checkbox-input--inputType-custom checkbox"></div><input type="checkbox" name="story_checkbox" id="story_checkbox" data-name="story_checkbox" style="opacity:0;position:absolute;z-index:-1"><span class="paragraph w-form-label" for="story_checkbox">I agree to Privacy Link and Terms of Use</span>
                      </label></div>
                    <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c8d-a9078690" class="formhalf"><label for="story_quill" id="project-links" class="field-label">edit your story</label>
                      <div id="storyeditor" class="storyeditor">
                        <div class="w-embed w-script"><!-- 
  ========================================================================
  WEBFLOW STORY FORM EMBED CODE
  ========================================================================
  Copy this entire code block into a Webflow Embed element INSIDE your form.
  IMPORTANT: This embed must be placed INSIDE the Webflow form element,
  not outside it. The hidden inputs need to be children of the form for
  jQuery's $form.serialize() to capture them.
  FIELD MAPPING (Hidden Input Name ‚Üí Xano Field ‚Üí Webflow CMS Field):
  ----------------------------------------------------------------
  story_name        ‚Üí story_name       ‚Üí name
  author_name       ‚Üí author_name      ‚Üí author-name
  story_email       ‚Üí story_email      ‚Üí (internal)
  story_input       ‚Üí story_input      ‚Üí excerpt
  category          ‚Üí category         ‚Üí category
  body_html         ‚Üí story_content_html ‚Üí story-content
  uploadcare_url    ‚Üí uploadcare_url   ‚Üí featured-image
  author_photo      ‚Üí author_photo     ‚Üí author-image
  document_url      ‚Üí document_url     ‚Üí document-file
  ========================================================================
 -->
                          <style>
  /* ========== TIPTAP EDITOR STYLES ========== */
  .tiptap-wrapper {
    border: 1px solid #ccc;
    border-radius: 6px;
    overflow: hidden;
    background-color: #fff;
    margin: 20px 0;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
  .tiptap-toolbar {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 6px;
    padding: 10px;
    border-bottom: 1px solid #e0e0e0;
    background-color: #f8f8f8;
  }
  .tiptap-toolbar button {
    padding: 6px 12px;
    border: 1px solid #d0d0d0;
    border-radius: 4px;
    background-color: #fff;
    cursor: pointer;
    font-size: 14px;
    line-height: 1.4;
    transition: all 0.2s ease;
    font-weight: 500;
    color: #000;
  }
  .tiptap-toolbar button:hover {
    background-color: #e8e8e8;
    border-color: #b0b0b0;
  }
  .tiptap-toolbar button.is-active {
    background-color: #333;
    color: #fff;
    border-color: #333;
  }
  .tiptap-toolbar button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  .tiptap-toolbar .separator {
    width: 1px;
    height: 24px;
    background-color: #d0d0d0;
    margin: 0 4px;
  }
  .tiptap-editor-content {
    padding: 16px;
    min-height: 300px;
    max-height: 600px;
    overflow-y: auto;
    outline: none;
    line-height: 1.6;
    font-size: 16px;
    color: #000 !important;
  }
  .tiptap-editor-content:focus {
    outline: none;
  }
  .tiptap-editor-content * {
    color: #000 !important;
  }
  .tiptap-editor-content a {
    color: #0066cc !important;
  }
  .tiptap-editor-content pre,
  .tiptap-editor-content pre * {
    color: #f8f8f2 !important;
  }
  .tiptap-editor-content .ProseMirror > p.is-editor-empty:first-child::before {
    color: #aaa !important;
    content: attr(data-placeholder);
    float: left;
    height: 0;
    pointer-events: none;
  }
  /* Paragraphs */
  .tiptap-editor-content p {
    margin: 0 0 12px 0;
    color: #000 !important;
    font-size: 16px;
    line-height: 1.7;
  }
  .tiptap-editor-content p:last-child {
    margin-bottom: 0;
  }
  /* Headings */
  .tiptap-editor-content h1,
  .tiptap-editor-content h2,
  .tiptap-editor-content h3,
  .tiptap-editor-content h4,
  .tiptap-editor-content h5,
  .tiptap-editor-content h6 {
    margin: 24px 0 12px 0;
    font-weight: 600;
    line-height: 1.3;
    color: #000 !important;
  }
  .tiptap-editor-content h1:first-child,
  .tiptap-editor-content h2:first-child,
  .tiptap-editor-content h3:first-child {
    margin-top: 0;
  }
  .tiptap-editor-content h1 { font-size: 2em; }
  .tiptap-editor-content h2 { font-size: 1.5em; }
  .tiptap-editor-content h3 { font-size: 1.25em; }
  .tiptap-editor-content h4 { font-size: 1.1em; }
  .tiptap-editor-content h5 { font-size: 1em; }
  .tiptap-editor-content h6 { font-size: 0.9em; }
  /* Lists */
  .tiptap-editor-content ul,
  .tiptap-editor-content ol {
    padding-left: 24px;
    margin: 12px 0;
    color: #000 !important;
  }
  .tiptap-editor-content li {
    margin: 4px 0;
    color: #000 !important;
  }
  /* Blockquote */
  .tiptap-editor-content blockquote {
    border-left: 4px solid #991b1b;
    padding-left: 16px;
    margin: 16px 0;
    color: #333 !important;
    font-style: italic;
  }
  /* Code */
  .tiptap-editor-content code {
    background-color: #f4f4f4;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
    color: #000 !important;
  }
  .tiptap-editor-content pre {
    background-color: #2d2d2d;
    color: #f8f8f2 !important;
    padding: 16px;
    border-radius: 6px;
    overflow-x: auto;
    margin: 16px 0;
  }
  .tiptap-editor-content pre code {
    background: none;
    padding: 0;
    color: #f8f8f2 !important;
    font-size: 0.9em;
  }
  /* Links */
  .tiptap-editor-content a {
    color: #991b1b !important;
    text-decoration: underline;
  }
  /* Images */
  .tiptap-editor-content img {
    max-width: 100%;
    height: auto;
    border-radius: 6px;
    margin: 16px 0;
    display: block;
  }
  /* Embeds (Spotify, YouTube, etc.) */
  .tiptap-editor-content iframe {
    max-width: 100%;
    width: 100%;
    border-radius: 12px;
    margin: 16px 0;
    display: block;
    border: none;
  }
  .card-rich iframe,
  .w-richtext iframe {
    max-width: 100%;
    width: 100%;
    border-radius: 12px;
    margin: 16px 0;
    border: none;
  }
  .tiptap-editor-content strong { font-weight: 600; }
  .tiptap-loading {
    text-align: center;
    padding: 40px;
    color: #999;
  }
  .tiptap-editor-content .ProseMirror {
    color: #000 !important;
  }
  /* ========== IMAGE UPLOAD STYLES ========== */
  .story-image-field {
    margin: 16px 0;
  }
  .story-image-field label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    font-size: 15px;
  }
  .image-upload-container {
    display: flex;
    align-items: center;
    gap: 16px;
    flex-wrap: wrap;
  }
  .image-upload-btn {
    padding: 10px 20px;
    background-color: #000;
    color: #fff;
    border: none;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: background-color 0.2s;
  }
  .image-upload-btn:hover {
    background-color: #333;
  }
  .image-preview {
    display: none;
    align-items: center;
    gap: 12px;
  }
  .image-preview.has-image {
    display: flex;
  }
  .image-preview img {
    width: 80px;
    height: 60px;
    object-fit: cover;
    border-radius: 4px;
    border: 1px solid #ddd;
  }
  .image-preview.avatar img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
  }
  .image-preview .image-name {
    font-size: 13px;
    color: #666;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .image-preview .remove-image {
    padding: 4px 8px;
    background: #fee2e2;
    color: #991b1b;
    border: none;
    cursor: pointer;
    font-size: 12px;
    border-radius: 4px;
  }
  .image-preview .remove-image:hover {
    background: #fecaca;
  }
  /* ========== UPLOADCARE BUTTON STYLES ========== */
  .uploadcare--widget__button,
  .uploadcare--button,
  .uploadcare--button_primary {
    background-color: #000 !important;
    color: #fff !important;
    border-radius: 0 !important;
    border: none !important;
  }
  .uploadcare--widget__button:hover,
  .uploadcare--button:hover,
  .uploadcare--button_primary:hover {
    background-color: #333 !important;
  }
  /* ========== HIDE WEBFLOW NATIVE FILE UPLOAD BUTTONS ========== */
  /* Hide Webflow's default file upload elements to avoid duplicates */
  .w-file-upload,
  .w-file-upload-default,
  .w-file-upload-uploading,
  .w-file-upload-success,
  .w-file-upload-error,
  .w-file-upload-input,
  .w-file-upload-label,
  input[type="file"].w-input,
  input[type="file"],
  label[for*="file"],
  [data-name="upload documents"] .w-file-upload,
  [data-name="upload-documents"] .w-file-upload,
  .w-form input[type="file"],
  .w-button[data-wait],
  div[class*="file-upload"],
  button:contains("Choose an image"),
  label:contains("Choose an image") {
    display: none !important;
  }
  /* Hide any element containing "Choose an image" text */
  .w-file-upload-default-btn,
  .w-file-upload-btn {
    display: none !important;
  }
</style>
                          <!--  ========== FEATURED IMAGE UPLOAD ==========  -->
                          <!--  NOTE: Remove any Webflow native file upload fields from your form to avoid duplicates  -->
                          <div class="story-image-field" id="story-featured-image-field" style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Featured Image</label>
                            <div class="image-upload-container">
                              <button type="button" class="image-upload-btn" id="story-featured-image-btn">Upload Featured Image</button>
                              <div class="image-preview" id="story-featured-image-preview">
                                <img src="" alt="Preview" id="story-featured-image-thumb">
                                <span class="image-name" id="story-featured-image-name"></span>
                                <button type="button" class="remove-image" id="story-featured-image-remove">Remove</button>
                              </div>
                            </div>
                            <!--  Hidden input with Xano field name  -->
                            <input type="hidden" id="uploadcare_url" name="uploadcare_url">
                          </div>
                          <!--  ========== TIPTAP RICH TEXT EDITOR ==========  -->
                          <div class="tiptap-wrapper" id="story-editor-wrapper">
                            <div class="tiptap-toolbar" id="tiptap-toolbar">
                              <button type="button" data-action="bold" title="Bold (Ctrl+B)"><strong>B</strong></button>
                              <button type="button" data-action="italic" title="Italic (Ctrl+I)"><em>I</em></button>
                              <button type="button" data-action="underline" title="Underline (Ctrl+U)"><u>U</u></button>
                              <button type="button" data-action="strike" title="Strikethrough"><s>S</s></button>
                              <div class="separator"></div>
                              <button type="button" data-action="paragraph" title="Paragraph">P</button>
                              <button type="button" data-action="h1" title="Heading 1">H1</button>
                              <button type="button" data-action="h2" title="Heading 2">H2</button>
                              <button type="button" data-action="h3" title="Heading 3">H3</button>
                              <button type="button" data-action="h4" title="Heading 4">H4</button>
                              <button type="button" data-action="h5" title="Heading 5">H5</button>
                              <button type="button" data-action="h6" title="Heading 6">H6</button>
                              <div class="separator"></div>
                              <button type="button" data-action="bulletList" title="Bullet List">List</button>
                              <button type="button" data-action="orderedList" title="Numbered List">1. List</button>
                              <button type="button" data-action="blockquote" title="Quote">Quote</button>
                              <button type="button" data-action="codeBlock" title="Code Block">Code</button>
                              <div class="separator"></div>
                              <button type="button" data-action="link" title="Insert Link">Link</button>
                              <button type="button" data-action="upload" title="Insert Image">Image</button>
                              <button type="button" data-action="embed" title="Embed (Spotify, YouTube)">Embed</button>
                            </div>
                            <div class="tiptap-editor-content" id="tiptap-editor-content">
                              <div class="tiptap-loading">Loading editor...</div>
                            </div>
                          </div>
                          <!--  ========== AUTHOR IMAGE UPLOAD ==========  -->
                          <div class="story-image-field" id="story-author-image-field" style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Author Photo</label>
                            <div class="image-upload-container">
                              <button type="button" class="image-upload-btn" id="story-author-image-btn">Upload Photo</button>
                              <div class="image-preview avatar" id="story-author-image-preview">
                                <img src="" alt="Preview" id="story-author-image-thumb">
                                <span class="image-name" id="story-author-image-name"></span>
                                <button type="button" class="remove-image" id="story-author-image-remove">Remove</button>
                              </div>
                            </div>
                            <!--  Hidden input with Xano field name  -->
                            <input type="hidden" id="author_photo" name="author_photo">
                          </div>
                          <!--  ========== DOCUMENT UPLOAD (Word, PPT, PDF) ==========  -->
                          <div class="story-image-field" id="story-document-field" style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Documents for Review</label>
                            <div class="image-upload-container">
                              <button type="button" class="image-upload-btn" id="story-document-btn">Upload Documents for Review</button>
                              <div class="image-preview" id="story-document-preview" style="display: none;">
                                <span class="doc-icon" style="font-size: 24px;">üìÑ</span>
                                <span class="image-name" id="story-document-name"></span>
                                <button type="button" class="remove-image" id="story-document-remove">Remove</button>
                              </div>
                            </div>
                            <small style="color: #fff; display: block; margin-top: 6px;">Accepted: PDF, Word (.doc, .docx), PowerPoint (.ppt, .pptx)</small>
                            <input type="hidden" id="story_document_url" name="document_url">
                          </div>
                          <!--  Hidden inputs for Tiptap content  -->
                          <input type="hidden" id="body_html" name="body_html">
                          <input type="hidden" id="body_text" name="body_text">
                          <!--  ========== UPLOADCARE WIDGET ==========  -->
                          <script>
  UPLOADCARE_PUBLIC_KEY = 'b3ab69f1399f85fd8f43';
  UPLOADCARE_TABS = 'file url camera dropbox gdrive';
  UPLOADCARE_IMAGES_ONLY = true;
  UPLOADCARE_LOCALE = 'en';
  UPLOADCARE_PREVIEW_STEP = true;
  UPLOADCARE_CLEARABLE = true;
  UPLOADCARE_MULTIPLE = false;
</script>
                          <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>
                          <!--  ========== TIPTAP + FORM HANDLER SCRIPT ==========  -->
                          <script type="module">
import { Editor, Node, mergeAttributes } from 'https://esm.sh/@tiptap/core@2.1.13';
import StarterKit from 'https://esm.sh/@tiptap/starter-kit@2.1.13';
import Underline from 'https://esm.sh/@tiptap/extension-underline@2.1.13';
import Link from 'https://esm.sh/@tiptap/extension-link@2.1.13';
import Image from 'https://esm.sh/@tiptap/extension-image@2.1.13';
import Placeholder from 'https://esm.sh/@tiptap/extension-placeholder@2.1.13';

// Custom Iframe extension for Spotify, YouTube, etc.
const Iframe = Node.create({
  name: 'iframe',
  group: 'block',
  atom: true,
  addAttributes() {
    return {
      src: { default: null },
      width: { default: '100%' },
      height: { default: '352' },
      frameborder: { default: '0' },
      allow: { default: 'autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture' },
      allowfullscreen: { default: true },
      style: { default: 'border-radius:12px' },
    };
  },
  parseHTML() {
    return [{ tag: 'iframe' }];
  },
  renderHTML({ HTMLAttributes }) {
    return ['iframe', mergeAttributes(HTMLAttributes)];
  },
  addCommands() {
    return {
      setIframe: (options) => ({ commands }) => {
        return commands.insertContent({ type: this.name, attrs: options });
      },
    };
  },
});
// ============================================================================
// CONFIGURATION - Matches your Xano endpoint
// ============================================================================
const CONFIG = {
  // Xano stories endpoint (same as stories.html form)
  xanoEndpoint: 'https://xerb-qpd6-hd8t.n7.xano.io/api:pIN2vLYu/stories',
  // Webflow form selector - UPDATE THIS to match your Webflow form ID
  formSelector: '[data-name="Story Form"], #wf-form-Story-Form, form[name="wf-form-Story-Form"]',
  // Required fields for validation
  requiredFields: ['title', 'author_name', 'author_email'],
  // Uploadcare public key
  uploadcareKey: 'b3ab69f1399f85fd8f43',
  // Editor placeholder text
  placeholderText: 'Start writing your story here...',
  // Enable auto-sync to Webflow CMS
  syncToWebflow: true
};
let editor = null;
// ============================================================================
// UPLOADCARE IMAGE UPLOADERS
// ============================================================================
function setupImageUploaders() {
  // Featured Image Upload - inputId matches Xano field name
  setupImageUploader({
    buttonId: 'story-featured-image-btn',
    previewId: 'story-featured-image-preview',
    thumbId: 'story-featured-image-thumb',
    nameId: 'story-featured-image-name',
    removeId: 'story-featured-image-remove',
    inputId: 'uploadcare_url',  // Xano field: uploadcare_url
    buttonTextDefault: 'Upload Featured Image',
    buttonTextChange: 'Change Featured Image',
    crop: '16:9'
  });
  // Author Image Upload - inputId matches Xano field name
  setupImageUploader({
    buttonId: 'story-author-image-btn',
    previewId: 'story-author-image-preview',
    thumbId: 'story-author-image-thumb',
    nameId: 'story-author-image-name',
    removeId: 'story-author-image-remove',
    inputId: 'author_photo',  // Xano field: author_photo
    buttonTextDefault: 'Upload Photo',
    buttonTextChange: 'Change Photo',
    crop: '1:1'
  });
  // Document Upload (Word, PPT, PDF)
  setupDocumentUploader({
    buttonId: 'story-document-btn',
    previewId: 'story-document-preview',
    nameId: 'story-document-name',
    removeId: 'story-document-remove',
    inputId: 'story_document_url',
    buttonTextDefault: 'Upload Document',
    buttonTextChange: 'Change Document'
  });
}
// Document uploader (allows non-image files)
function setupDocumentUploader(config) {
  const btn = document.getElementById(config.buttonId);
  const preview = document.getElementById(config.previewId);
  const nameEl = document.getElementById(config.nameId);
  const removeBtn = document.getElementById(config.removeId);
  const input = document.getElementById(config.inputId);
  if (!btn) return;
  btn.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    if (typeof uploadcare === 'undefined') {
      alert('Upload not available. Please refresh the page.');
      return;
    }
    const dialog = uploadcare.openDialog(null, {
      publicKey: CONFIG.uploadcareKey,
      imagesOnly: false, // Allow all file types
      tabs: 'file url dropbox gdrive',
      multiple: false,
      previewStep: true,
      inputAcceptTypes: '.pdf,.doc,.docx,.ppt,.pptx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation'
    });
    dialog.done((file) => {
      file.promise().done((fileInfo) => {
        console.log(`Uploaded document:`, fileInfo.cdnUrl, fileInfo.name);
        if (input) input.value = fileInfo.cdnUrl;
        if (nameEl) nameEl.textContent = fileInfo.name || 'Document uploaded';
        if (preview) {
          preview.style.display = 'flex';
          preview.classList.add('has-image');
        }
        btn.textContent = config.buttonTextChange;
      });
    });
  });
  if (removeBtn) {
    removeBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (input) input.value = '';
      if (nameEl) nameEl.textContent = '';
      if (preview) {
        preview.style.display = 'none';
        preview.classList.remove('has-image');
      }
      btn.textContent = config.buttonTextDefault;
    });
  }
}
function setupImageUploader(config) {
  const btn = document.getElementById(config.buttonId);
  const preview = document.getElementById(config.previewId);
  const thumb = document.getElementById(config.thumbId);
  const nameEl = document.getElementById(config.nameId);
  const removeBtn = document.getElementById(config.removeId);
  const input = document.getElementById(config.inputId);
  if (!btn) return;
  btn.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    if (typeof uploadcare === 'undefined') {
      alert('Upload not available. Please refresh the page.');
      return;
    }
    const dialog = uploadcare.openDialog(null, {
      publicKey: CONFIG.uploadcareKey,
      imagesOnly: true,
      tabs: 'file url camera',
      multiple: false,
      previewStep: true,
      crop: config.crop || false
    });
    dialog.done((file) => {
      file.promise().done((fileInfo) => {
        console.log(`=== Uploadcare Image Upload Complete ===`);
        console.log(`  Input ID: ${config.inputId}`);
        console.log(`  CDN URL: ${fileInfo.cdnUrl}`);
        console.log(`  File name: ${fileInfo.name}`);
        if (input) {
          input.value = fileInfo.cdnUrl;
          console.log(`  Hidden input value set: ${input.value}`);
        } else {
          console.error(`  ERROR: Hidden input #${config.inputId} not found!`);
        }
        if (thumb) thumb.src = fileInfo.cdnUrl;
        if (nameEl) nameEl.textContent = fileInfo.name || 'Image uploaded';
        if (preview) preview.classList.add('has-image');
        btn.textContent = config.buttonTextChange;
      });
    });
  });
  if (removeBtn) {
    removeBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (input) input.value = '';
      if (thumb) thumb.src = '';
      if (nameEl) nameEl.textContent = '';
      if (preview) preview.classList.remove('has-image');
      btn.textContent = config.buttonTextDefault;
    });
  }
}
// ============================================================================
// TIPTAP EDITOR
// ============================================================================
function initTiptapEditor() {
  const editorElement = document.getElementById('tiptap-editor-content');
  if (!editorElement) {
    console.error('Tiptap editor element not found');
    return;
  }
  editorElement.innerHTML = '';
  try {
    editor = new Editor({
      element: editorElement,
      extensions: [
        StarterKit.configure({
          heading: { levels: [1, 2, 3, 4, 5, 6] }
        }),
        Underline,
        Link.configure({
          openOnClick: false,
          autolink: true,
          HTMLAttributes: {
            target: '_blank',
            rel: 'noopener noreferrer'
          }
        }),
        Image.configure({
          inline: false,
          allowBase64: false,
          HTMLAttributes: { class: 'editor-image' }
        }),
        Iframe,
        Placeholder.configure({
          placeholder: CONFIG.placeholderText
        })
      ],
      editorProps: {
        attributes: { style: 'color: #000 !important;' }
      },
      onUpdate: ({ editor }) => {
        const htmlInput = document.getElementById('body_html');
        const textInput = document.getElementById('body_text');
        if (htmlInput) htmlInput.value = editor.getHTML();
        if (textInput) textInput.value = editor.getText();
      },
      onCreate: ({ editor }) => {
        console.log('Tiptap editor initialized');
        window.tiptapEditor = editor;
      }
    });
    setupToolbar();
  } catch (error) {
    console.error('Error initializing Tiptap:', error);
    editorElement.innerHTML = '<div class="tiptap-loading" style="color: red;">Error loading editor. Please refresh.</div>';
  }
}
function setupToolbar() {
  const toolbar = document.getElementById('tiptap-toolbar');
  if (!toolbar || !editor) return;
  const actions = {
    bold: () => editor.chain().focus().toggleBold().run(),
    italic: () => editor.chain().focus().toggleItalic().run(),
    underline: () => editor.chain().focus().toggleUnderline().run(),
    strike: () => editor.chain().focus().toggleStrike().run(),
    paragraph: () => editor.chain().focus().setParagraph().run(),
    h1: () => editor.chain().focus().toggleHeading({ level: 1 }).run(),
    h2: () => editor.chain().focus().toggleHeading({ level: 2 }).run(),
    h3: () => editor.chain().focus().toggleHeading({ level: 3 }).run(),
    h4: () => editor.chain().focus().toggleHeading({ level: 4 }).run(),
    h5: () => editor.chain().focus().toggleHeading({ level: 5 }).run(),
    h6: () => editor.chain().focus().toggleHeading({ level: 6 }).run(),
    bulletList: () => editor.chain().focus().toggleBulletList().run(),
    orderedList: () => editor.chain().focus().toggleOrderedList().run(),
    blockquote: () => editor.chain().focus().toggleBlockquote().run(),
    codeBlock: () => editor.chain().focus().toggleCodeBlock().run(),
    link: handleLinkAction,
    upload: handleInlineImageUpload,
    embed: handleEmbedAction
  };
  toolbar.addEventListener('click', (e) => {
    const button = e.target.closest('button');
    if (!button || !editor) return;
    const action = button.dataset.action;
    if (actions[action]) {
      e.preventDefault();
      e.stopPropagation();
      actions[action]();
      if (action !== 'upload') {
        updateToolbarState();
      }
    }
  });
  editor.on('transaction', updateToolbarState);
  editor.on('selectionUpdate', updateToolbarState);
  updateToolbarState();
}
function updateToolbarState() {
  if (!editor) return;
  const toolbar = document.getElementById('tiptap-toolbar');
  if (!toolbar) return;
  toolbar.querySelectorAll('button').forEach(button => {
    const action = button.dataset.action;
    let isActive = false;
    switch (action) {
      case 'bold': isActive = editor.isActive('bold'); break;
      case 'italic': isActive = editor.isActive('italic'); break;
      case 'underline': isActive = editor.isActive('underline'); break;
      case 'strike': isActive = editor.isActive('strike'); break;
      case 'paragraph': isActive = editor.isActive('paragraph'); break;
      case 'h1': isActive = editor.isActive('heading', { level: 1 }); break;
      case 'h2': isActive = editor.isActive('heading', { level: 2 }); break;
      case 'h3': isActive = editor.isActive('heading', { level: 3 }); break;
      case 'h4': isActive = editor.isActive('heading', { level: 4 }); break;
      case 'h5': isActive = editor.isActive('heading', { level: 5 }); break;
      case 'h6': isActive = editor.isActive('heading', { level: 6 }); break;
      case 'bulletList': isActive = editor.isActive('bulletList'); break;
      case 'orderedList': isActive = editor.isActive('orderedList'); break;
      case 'blockquote': isActive = editor.isActive('blockquote'); break;
      case 'codeBlock': isActive = editor.isActive('codeBlock'); break;
      case 'link': isActive = editor.isActive('link'); break;
    }
    button.classList.toggle('is-active', isActive);
  });
}
function handleLinkAction() {
  if (!editor) return;
  const previousUrl = editor.getAttributes('link').href;
  const url = window.prompt('Enter URL (leave empty to remove):', previousUrl || 'https://');
  if (url === null) return;
  if (url === '') {
    editor.chain().focus().extendMarkRange('link').unsetLink().run();
  } else {
    editor.chain().focus().extendMarkRange('link').setLink({ href: url }).run();
  }
}
function handleInlineImageUpload() {
  if (!editor || typeof uploadcare === 'undefined') {
    alert('Upload not available. Please refresh.');
    return;
  }
  const dialog = uploadcare.openDialog(null, {
    publicKey: CONFIG.uploadcareKey,
    imagesOnly: true,
    tabs: 'file url camera dropbox gdrive',
    multiple: false,
    previewStep: true
  });
  dialog.done((file) => {
    file.promise().done((fileInfo) => {
      editor.chain().focus().setImage({
        src: fileInfo.cdnUrl,
        alt: fileInfo.name || 'Image'
      }).run();
    });
  });
}
function handleEmbedAction() {
  if (!editor) return;
  const embedCode = window.prompt(
    'Paste embed code or URL (Spotify, YouTube, etc.):\n\n' +
    'Examples:\n' +
    '‚Ä¢ Spotify: https://open.spotify.com/track/...\n' +
    '‚Ä¢ YouTube: https://www.youtube.com/watch?v=...\n' +
    '‚Ä¢ Or paste full <iframe> embed code'
  );
  if (!embedCode || embedCode.trim() === '') return;

  let src = '';
  let height = '352';

  // Check if it's a full iframe code
  if (embedCode.includes('<iframe')) {
    const srcMatch = embedCode.match(/src=["']([^"']+)["']/);
    if (srcMatch) src = srcMatch[1];
    const heightMatch = embedCode.match(/height=["']?(\d+)/);
    if (heightMatch) height = heightMatch[1];
  }
  // Spotify URL
  else if (embedCode.includes('spotify.com')) {
    // Convert share URL to embed URL
    src = embedCode.replace('open.spotify.com/', 'open.spotify.com/embed/');
    if (!src.includes('/embed/')) {
      src = src.replace('spotify.com/', 'spotify.com/embed/');
    }
    height = '352';
  }
  // YouTube URL
  else if (embedCode.includes('youtube.com') || embedCode.includes('youtu.be')) {
    let videoId = '';
    if (embedCode.includes('youtu.be/')) {
      videoId = embedCode.split('youtu.be/')[1].split('?')[0];
    } else if (embedCode.includes('v=')) {
      videoId = embedCode.split('v=')[1].split('&')[0];
    }
    if (videoId) {
      src = `https://www.youtube.com/embed/${videoId}`;
      height = '315';
    }
  }
  // Direct URL (assume it's an embed URL)
  else if (embedCode.startsWith('http')) {
    src = embedCode;
  }

  if (src) {
    editor.chain().focus().setIframe({ src, height }).run();
  } else {
    alert('Could not parse embed code. Please try pasting the full iframe code.');
  }
}
// ============================================================================
// FORM INTEGRATION - Submit to Xano + Auto-sync to Webflow
// ============================================================================
function setupFormHandler() {
  // Try multiple selectors to find the Webflow form
  let form = document.querySelector(CONFIG.formSelector);
  if (!form) {
    const fallbackSelectors = [
      'form[data-name*="story" i]',
      'form[data-name*="Story" i]',
      'form[name*="story" i]',
      'form[id*="story" i]',
      '.w-form form',
      'form'
    ];
    for (const selector of fallbackSelectors) {
      form = document.querySelector(selector);
      if (form) break;
    }
  }
  if (!form) {
    console.error('No form found on page');
    return;
  }
  // Take over form submission entirely
  form.addEventListener('submit', handleFormSubmit);
  console.log('Form handler ready - will submit to Xano and sync to Webflow');
}
async function handleFormSubmit(e) {
  e.preventDefault();
  const form = e.target;
  const submitBtn = form.querySelector('[type="submit"]');
  const originalBtnText = submitBtn?.textContent;
  try {
    // Update button state
    if (submitBtn) {
      submitBtn.disabled = true;
      submitBtn.textContent = 'Submitting...';
    }
    // Build form data
    const formData = buildFormData(form);
    console.log('Submitting story:', formData);
    // Step 1: Submit to Xano
    const storyResponse = await fetch(CONFIG.xanoEndpoint, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    });
    const storyResult = await storyResponse.json();
    console.log('Xano response:', storyResult);
    if (!storyResponse.ok || !storyResult.id) {
      throw new Error(storyResult.message || 'Failed to create story');
    }
    const storyId = storyResult.id;
    console.log(`Story created with ID: ${storyId}`);
    // Show success - Webflow sync happens via background job
    showFormSuccess(form, storyId1);
  } catch (error) {
    console.error('Form submission error:', error);
    showFormError(form, error.message);
  } finally {
    if (submitBtn) {
      submitBtn.disabled = false;
      submitBtn.textContent = originalBtnText;
    }
  }
}
function buildFormData(form) {
  const data = {};
  // Get standard form fields
  const formData = new FormData(form);
  for (const [key, value] of formData.entries()) {
    if (value && value.trim) {
      data[key] = value.trim();
    }
  }
  // Add Tiptap editor content
  if (editor) {
    data.body_html = editor.getHTML();
    data.body_text = editor.getText();
    data.story_content_html = editor.getHTML();
  }
  // Add image URLs
  const featuredUrl = document.getElementById('uploadcare_url')?.value;
  const authorUrl = document.getElementById('author_photo')?.value;
  const documentUrl = document.getElementById('story_document_url')?.value;
  if (featuredUrl) data.uploadcare_url = featuredUrl;
  if (authorUrl) data.author_photo = authorUrl;
  if (documentUrl) data.document_url = documentUrl;
  // Map common field names to Xano field names
  if (data.title && !data.story_name) data.story_name = data.title;
  if (data.email && !data.story_email) data.story_email = data.email;
  if (data.author_email && !data.story_email) data.story_email = data.author_email;
  if (data.excerpt && !data.story_input) data.story_input = data.excerpt;
  return data;
}
function showFormSuccess(form, storyId) {
  // Hide form
  form.style.display = 'none';
  // Show success message
  const successDiv = form.parentElement.querySelector('.w-form-done') ||
                     document.createElement('div');
  successDiv.className = 'w-form-done';
  successDiv.style.display = 'block';
  successDiv.innerHTML = `
    <div style="text-align: center; padding: 40px 20px;">
      <h3 style="color: #16a34a; margin-bottom: 16px;">‚úì Story Submitted Successfully!</h3>
      <p style="margin-bottom: 8px;">Your story has been saved.</p>
      <p style="color: #666; font-size: 14px;">It will appear on the website shortly.</p>
    </div>
  `;
  if (!form.parentElement.querySelector('.w-form-done')) {
    form.parentElement.appendChild(successDiv);
  }
}
function showFormError(form, message) {
  const errorDiv = form.parentElement.querySelector('.w-form-fail') ||
                   document.createElement('div');
  errorDiv.className = 'w-form-fail';
  errorDiv.style.display = 'block';
  errorDiv.innerHTML = `
    <div style="color: #dc2626; padding: 16px;">
      <strong>Error:</strong> ${message}
    </div>
  `;
  if (!form.parentElement.querySelector('.w-form-fail')) {
    form.parentElement.appendChild(errorDiv);
  }
}
// ============================================================================
// INITIALIZE
// ============================================================================
function init() {
  console.log('Initializing Story Form...');
  // Small delay to ensure DOM is ready
  setTimeout(() => {
    initTiptapEditor();
    setupImageUploaders();
    setupFormHandler();
    console.log('Story form ready');
  }, 100);
}
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}
</script>
                        </div>
                      </div>
                    </div>
                  </div><input type="submit" data-wait="Please wait..." class="projectbutton w-button" value="publish">
                </form>
                <div class="w-form-done">
                  <div class="text-block-2">Thank you! Your submission has been received!</div>
                </div>
                <div class="w-form-fail">
                  <div class="text-block-2">Oops! Something went wrong while submitting the form.</div>
                </div>
              </div>
            </div>
          </div>
          <div></div>
        </section>
      </section>
    </div>
    <div class="page-footer">
      <div class="footer">
        <div class="grid-6 vertical-5xl">
          <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c9d-a9078690" class="vertical-m"><img width="300" height="49" alt="" src="/assets/images/usc_logo_horizontal_rgb_g_rev.svg" loading="lazy" class="footer---logo">
            <div>let's go</div>
          </div>
          <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3ca1-a9078690" class="vertical-m">
            <div><strong>Contact us</strong></div>
            <div>
              <div>email</div>
              <a href="mailto:marthahagenblack@gmail.com" class="display-block"></a>
            </div>
          </div>
          <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3ca9-a9078690" class="font-size-s">
            <div> </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-3-popup">
      <a scroll="enable" data-w-id="994b36b4-ed9f-8548-f818-40e31adf3cad" href="#" class="modal-bg w-inline-block">
        <div class="screen-reader-only">Close Modal</div>
      </a>
      <div class="modal w-clearfix">
        <a scroll="enable" data-w-id="994b36b4-ed9f-8548-f818-40e31adf3cb1" href="#" class="close-btn-w w-inline-block">
          <div class="close-btn-line is--1st"></div>
          <div class="close-btn-line is--2nd"></div>
          <div class="screen-reader-only">Close Modal</div>
        </a>
        <div class="modal-content-w">
          <div class="w-layout-grid grid-2">
            <div class="image-left"><img loading="lazy" src="https://cdn.prod.website-files.com/691b528b32c64580050add6b/691b8b7cae2884f976781b57_split-thomas_cooper.jpg" alt="" class="modalimage"></div>
            <div class="code">
              <div class="code-embed w-embed w-script">
                <script async="" src="https://js.stripe.com/v3/buy-button.js">
</script>
                <stripe-buy-button buy-button-id="buy_btn_1SVUwGBZxJbU2KR8mH2l1P0n" publishable-key="pk_live_8tosSyj6NrUl0a7csXx8Ai5g">
                </stripe-buy-button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js" type="text/javascript" crossorigin="anonymous"></script>
  <script src="/assets/js/webflow.js" type="text/javascript"></script>
  <script>
  // ===== XANO AUTH CONFIG =====
  const XANO_API = 'https://xerb-qpd6-hd8t.n7.xano.io/api:AUTH';
  // ===== AUTH STATE =====
  const XanoAuth = {
    getToken: () => {
      try { return JSON.parse(localStorage.getItem('xano_auth_token')); } catch(e) { return null; }
    },
    getUser: () => {
      try { return JSON.parse(localStorage.getItem('xano_user')); } catch(e) { return null; }
    },
    isAuthenticated: () => !!XanoAuth.getToken(),
    logout: () => {
      localStorage.removeItem('xano_auth_token');
      localStorage.removeItem('xano_user');
      window.location.href = '/';
    }
  };
  // ===== LOGIN FORM HANDLER =====
  var Webflow = Webflow || [];
  Webflow.push(function() {
    $(document).off('submit');
    $('form[action*="auth/login"]').submit(function(e) {
      e.preventDefault();
      const $form = $(this);
      const $btn = $form.find('[type=submit]');
      const btnText = $btn.val();
      $btn.val('Signing in...').prop('disabled', true);
      fetch($form.attr('action'), {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          email: $form.find('[name=email]').val(),
          password: $form.find('[name=password]').val()
        })
      })
      .then(res => res.json())
      .then(data => {
        if (data.authToken) {
          localStorage.setItem('xano_auth_token', JSON.stringify(data.authToken));
          localStorage.setItem('xano_user', JSON.stringify(data.user));
          window.location.href = '/dashboard';
        } else {
          throw new Error(data.message || 'Login failed');
        }
      })
      .catch(err => {
        $form.siblings('.w-form-fail').show().text(err.message);
        $btn.val(btnText).prop('disabled', false);
      });
    });
    // ===== VISIBILITY =====
    const user = XanoAuth.getUser();
    // Show/hide based on auth state
    $('.auth---visible').toggle(!!user);
    $('.auth---invisible').toggle(!user);
    // Display user info
    if (user) {
      $('[data-user-name]').text(user.first_name + ' ' + user.last_name);
      $('[data-user-email]').text(user.email);
    }
    // Logout buttons
    $('[data-logout]').click(() => XanoAuth.logout());
    // Protected pages
    if ($('body').hasClass('auth---required') && !user) {
      window.location.href = '/login';
    }
  });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/Draggable.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(e){"use strict";function m(){return i||"undefined"!=typeof window&&(i=window.gsap)}function p(t){return c(t).id}function q(t){return f[p("string"==typeof t?g(t)[0]:t)]}function r(t){var e,r=o;if(.05<=t-s)for(s=t;r;)((e=r.g(r.t,r.p))!==r.v1||.2<t-r.t1)&&(r.v2=r.v1,r.v1=e,r.t2=r.t1,r.t1=t),r=r._next}function t(){(i=m())&&(g=i.utils.toArray,n=i.utils.getUnit,c=i.core.getCache,a=i.ticker,l=1)}function u(t,e,r,i){this.t=t,this.p=e,this.g=t._gsap.get,this.rCap=d[r||n(this.g(t,e))],this.v1=this.v2=0,this.t1=this.t2=a.time,i&&((this._next=i)._prev=this)}var i,l,g,n,o,a,s,c,f={},d={deg:360,rad:2*Math.PI},v=function(){function VelocityTracker(e,r){l||t(),this.target=g(e)[0],(f[p(this.target)]=this)._props={},r&&this.add(r)}VelocityTracker.register=function register(e){i=e,t()};var e=VelocityTracker.prototype;return e.get=function get(t,e){var r,i,n=this._props[t]||console.warn("Not tracking "+t+" velocity.");return r=parseFloat(e?n.v1:n.g(n.t,n.p))-parseFloat(n.v2),(i=n.rCap)&&(r%=i)!==r%(i/2)&&(r=r<0?r+i:r-i),function _round(t){return Math.round(1e4*t)/1e4}(r/((e?n.t1:a.time)-n.t2))},e.getAll=function getAll(){var t,e={},r=this._props;for(t in r)e[t]=this.get(t);return e},e.isTracking=function isTracking(t){return t in this._props},e.add=function add(t,e){t in this._props||(o||(a.add(r),s=a.time),o=this._props[t]=new u(this.target,t,e,o))},e.remove=function remove(t){var e,i,n=this._props[t];n&&(e=n._prev,i=n._next,e&&(e._next=i),i?i._prev=e:o===n&&(a.remove(r),o=0),delete this._props[t])},e.kill=function kill(t){for(var e in this._props)this.remove(e);t||delete f[p(this.target)]},VelocityTracker.track=function track(e,r,i){l||t();for(var n,o,a=[],s=g(e),c=r.split(","),u=(i||"").split(","),f=s.length;f--;){for(n=q(s[f])||new VelocityTracker(s[f]),o=c.length;o--;)n.add(c[o],u[o]||u[0]);a.push(n)}return a},VelocityTracker.untrack=function untrack(t,e){var r=(e||"").split(",");g(t).forEach(function(t){var e=q(t);e&&(r.length?r.forEach(function(t){return e.remove(t)}):e.kill(1))})},VelocityTracker.isTracking=function isTracking(t,e){var r=q(t);return r&&r.isTracking(e)},VelocityTracker.getVelocity=function getVelocity(t,e){var r=q(t);return r&&r.isTracking(e)?r.get(e):console.warn("Not tracking velocity of "+e)},VelocityTracker}();v.getByTarget=q,m()&&i.registerPlugin(v);function J(){return h||"undefined"!=typeof window&&(h=window.gsap)&&h.registerPlugin&&h}function L(t){return"number"==typeof t}function M(t){return"object"==typeof t}function N(t){return"function"==typeof t}function Q(t){return t}function U(t){return Math.round(1e4*t)/1e4}function V(t,e,r){for(var i in e)i in t||i===r||(t[i]=e[i]);return t}function W(t){var e,r,i={};for(e in t)i[e]=M(r=t[e])&&!w(r)?W(r):r;return i}function X(t,e,r,i,n){var o,a,s,c,u=e.length,f=0,l=B;if(M(t)){for(;u--;){for(s in o=e[u],a=0,t)a+=(c=o[s]-t[s])*c;a<l&&(f=u,l=a)}if((n||B)<B&&n<Math.sqrt(l))return t}else for(;u--;)(a=(o=e[u])-t)<0&&(a=-a),a<l&&i<=o&&o<=r&&(f=u,l=a);return e[f]}function Y(t,e,r,i,n,o,a){if("auto"===t.end)return t;var s,c,u=t.end;if(r=isNaN(r)?B:r,i=isNaN(i)?-B:i,M(e)){if(s=e.calculated?e:(N(u)?u(e,a):X(e,u,r,i,o))||e,!e.calculated){for(c in s)e[c]=s[c];e.calculated=!0}s=s[n]}else s=N(u)?u(e,a):w(u)?X(e,u,r,i,o):parseFloat(u);return r<s?s=r:s<i&&(s=i),{max:s,min:s,unitFactor:t.unitFactor}}function Z(t,e,r){return isNaN(t[e])?r:+t[e]}function $(t,e){return.05*e*t/T}function _(t,e,r){return Math.abs((e-t)*T/r/.05)}function ba(t,e,r,i){if(e.linkedProps){var n,o,a,s,c,u,f=e.linkedProps.split(","),l={};for(n=0;n<f.length;n++)(a=e[o=f[n]])&&(s=L(a.velocity)?a.velocity:(c=c||j(t))&&c.isTracking(o)?c.get(o):0,u=Math.abs(s/Z(a,"resistance",i)),l[o]=parseFloat(r(t,o))+$(s,u));return l}}function da(){(h=J())&&(y=h.parseEase,F=h.utils.toArray,b=h.utils.getUnit,O=h.core.getCache,E=h.utils.clamp,k=y("power3"),T=k(.05),A=h.core.PropTween,h.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3,progress:1e3,totalProgress:1e3}}),P=h.config(),h.registerPlugin(v),x=1)}var h,x,y,F,k,P,b,A,O,T,E,C,j=v.getByTarget,w=Array.isArray,B=1e10,I={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},R={version:"3.9.1",name:"inertia",register:function register(t){h=t,da()},init:function init(t,e,r,i,n){x||da();var o=j(t);if("auto"===e){if(!o)return void console.warn("No inertia tracking on "+t+". InertiaPlugin.track(target) first.");e=o.getAll()}this.target=t,this.tween=r,C=e;var a,s,c,u,f,l,p,g,d,v=t._gsap,h=v.get,m=e.duration,y=M(m),k=e.preventOvershoot||y&&0===m.overshoot,T=Z(e,"resistance",P.resistance),w=L(m)?m:function _calculateTweenDuration(t,e,r,i,n,o){if(void 0===r&&(r=10),void 0===i&&(i=.2),void 0===n&&(n=1),void 0===o&&(o=0),function _isString(t){return"string"==typeof t}(t)&&(t=F(t)[0]),!t)return 0;var a,s,c,u,f,l,p,g,d,v,h=0,m=B,y=e.inertia||e,k=O(t).get,T=Z(y,"resistance",P.resistance);for(a in v=ba(t,y,k,T),y)I[a]||(s=y[a],M(s)||((g=g||j(t))&&g.isTracking(a)?s=L(s)?{velocity:s}:{velocity:g.get(a)}:(u=+s||0,c=Math.abs(u/T))),M(s)&&(u=L(s.velocity)?s.velocity:(g=g||j(t))&&g.isTracking(a)?g.get(a):0,c=E(i,r,Math.abs(u/Z(s,"resistance",T))),l=(f=parseFloat(k(t,a))||0)+$(u,c),"end"in s&&(s=Y(s,v&&a in v?v:l,s.max,s.min,a,y.radius,u),o&&(C===e&&(C=y=W(e)),y[a]=V(s,y[a],"end"))),"max"in s&&l>+s.max+1e-10?(d=s.unitFactor||P.unitFactors[a]||1,(p=f>s.max&&s.min!==s.max||-15<u*d&&u*d<45?i+.1*(r-i):_(f,s.max,u))+n<m&&(m=p+n)):"min"in s&&l<s.min-1e-10&&(d=s.unitFactor||P.unitFactors[a]||1,(p=f<s.min&&s.min!==s.max||-45<u*d&&u*d<15?i+.1*(r-i):_(f,s.min,u))+n<m&&(m=p+n)),h<p&&(h=p)),h<c&&(h=c));return m<h&&(h=m),r<h?r:h<i?i:h}(t,e,y&&m.max||10,y&&m.min||.2,y&&"overshoot"in m?+m.overshoot:k?0:1,!0);for(a in e=C,C=0,d=ba(t,e,h,T),e)I[a]||(s=e[a],N(s)&&(s=s(i,t,n)),L(s)?f=s:M(s)&&!isNaN(s.velocity)?f=+s.velocity:o&&o.isTracking(a)?f=o.get(a):console.warn("ERROR: No velocity was defined for "+t+" property: "+a),l=$(f,w),g=0,c=h(t,a),u=b(c),c=parseFloat(c),M(s)&&(p=c+l,"end"in s&&(s=Y(s,d&&a in d?d:p,s.max,s.min,a,e.radius,f)),"max"in s&&+s.max<p?k||s.preventOvershoot?l=s.max-c:g=s.max-c-l:"min"in s&&+s.min>p&&(k||s.preventOvershoot?l=s.min-c:g=s.min-c-l)),this._props.push(a),this._pt=new A(this._pt,t,a,c,0,Q,0,v.set(t,a,this)),this._pt.u=u||0,this._pt.c1=l,this._pt.c2=g);return r.duration(w),1},render:function render(t,e){var r=e._pt;for(t=k(e.tween._time/e.tween._dur);r;)r.set(r.t,r.p,U(r.s+r.c1*t+r.c2*t*t)+r.u,r.d,t),r=r._next}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(t){return R[t]=v[t]}),J()&&h.registerPlugin(R),e.InertiaPlugin=R,e.VelocityTracker=v,e.default=R;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});
</script>
  <script>
var Webflow = Webflow || [];
Webflow.push(function() {
  // unbind webflow form handling (keep this if you only want to affect specific forms)
  $(document).off('submit');
  /* Any form on the page */
  $('form').submit(function(e) {
    e.preventDefault();
  	const $form = $(this); // The submitted form
    const $submit = $('[type=submit]', $form); // Submit button of form
    const buttonText = $submit.val(); // Original button text
    const buttonWaitingText = $submit.attr('data-wait'); // Waiting button text value
    const formMethod = $form.attr('method'); // Form method (GET/POST)
    const formAction = $form.attr('action'); // Form action (your Xano endpoint URL)
    const formRedirect = $form.attr('data-redirect'); // Form redirect location
    // if we're editing
    // const xanoID = document.getElementById('id').value // getting the ID of the record to edit
    // let requestURL = formAction.concat(xanoID + "?")
    const formData = $form.serialize(); // Form data
    // console.log(formData) // log request URL to console
    // Set waiting text
    if (buttonWaitingText) {
      $submit.val(buttonWaitingText);
    }
    $.ajax(formAction, {
    	data: formData,
      method: formMethod
    })
    .done((res) => {
      // If form redirect setting set, then use this and prevent any other actions
      if (formRedirect) { window.location = formRedirect; return; }
    	$form
      	.hide() // optional hiding of form
    		.siblings('.w-form-done').show() // Show success
      	.siblings('.w-form-fail').hide(); // Hide failure
    })
    .fail((res) => {
      $form
      	.siblings('.w-form-done').hide() // Hide success
    	  .siblings('.w-form-fail').show(); // show failure
    })
    .always(() => {
      // Reset text
      $submit.val(buttonText);
    });
  });
});
</script>

</body></html>