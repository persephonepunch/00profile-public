<!DOCTYPE html>
<html data-wf-page="69548d89878823389f8e6433" data-wf-site="69437b5f2a4e8316713c38e3" lang="en"><head><link rel="preconnect" crossorigin="true" href="https://assets.website-files.com"><title>Stories</title><meta property="og:title" content="Stories" /><meta property="og:title" content="Stories"><meta name="twitter:title" content="Stories"><meta http-equiv="last-modified" content="Fri, 09 Jan 2026 21:57:34 GMT" /><meta charset="utf-8">
  
  
  
  <meta content="width=device-width, initial-scale=1" name="viewport">
  
  <link href="/assets/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="/assets/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="/assets/css/usc-profiles.webflow.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="/assets/images/favicon.jpg" rel="shortcut icon" type="image/x-icon">
  <link href="/assets/images/webclip.jpg" rel="apple-touch-icon">
  <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>
  <script type="module">
  import { Editor } from '@tiptap/core';
  import StarterKit from '@tiptap/starter-kit';
  import Image from '@tiptap/extension-image';
  (function() {
    const CONFIG = {
      formSelector: '#wf-form-story',
      xanoEndpoint: 'https://xerb-qpd6-hd8t.n7.xano.io/api:pIN2vLYu/stories',
      uploadcareKey: window.ENV_CONFIG?.UPLOADCARE_PUBLIC_KEY || ''
    };
    let uploadedFiles = null;
    let tiptapEditor = null;
    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', init)
      : init();
    function init() {
      const form = document.querySelector(CONFIG.formSelector);
      if (!form) return console.error('Form not found');
      initTiptapEditor();
      setupUploadcare();
      setupFormSubmission(form);
      console.log('‚úÖ Story form integration loaded');
    }
    function initTiptapEditor() {
      const editorContainer = document.getElementById('story-content-editor');
      const toolbar = document.getElementById('tiptap-toolbar');
      if (!editorContainer) return;
      tiptapEditor = new Editor({
        element: editorContainer,
        extensions: [
          StarterKit.configure({ heading: { levels: [1, 2, 3] } }),
          Image.configure({ inline: false, allowBase64: true })
        ],
        content: '<p>Write your story here...</p>',
        onUpdate: ({ editor }) => {
          const hiddenInput = document.getElementById('story_content_html');
          if (hiddenInput) hiddenInput.value = editor.getHTML();
        }
      });
      // Create toolbar buttons
      const buttons = [
        { label: 'H1', action: () => tiptapEditor.chain().focus().toggleHeading({ level: 1 }).run(), check: () =>
  tiptapEditor.isActive('heading', { level: 1 }) },
        { label: 'H2', action: () => tiptapEditor.chain().focus().toggleHeading({ level: 2 }).run(), check: () =>
  tiptapEditor.isActive('heading', { level: 2 }) },
        { label: 'H3', action: () => tiptapEditor.chain().focus().toggleHeading({ level: 3 }).run(), check: () =>
  tiptapEditor.isActive('heading', { level: 3 }) },
        { label: 'Bold', action: () => tiptapEditor.chain().focus().toggleBold().run(), check: () =>
  tiptapEditor.isActive('bold') },
        { label: 'Italic', action: () => tiptapEditor.chain().focus().toggleItalic().run(), check: () =>
  tiptapEditor.isActive('italic') },
        { label: 'List', action: () => tiptapEditor.chain().focus().toggleBulletList().run(), check: () =>
  tiptapEditor.isActive('bulletList') },
        { label: '1. List', action: () => tiptapEditor.chain().focus().toggleOrderedList().run(), check: () =>
  tiptapEditor.isActive('orderedList') },
        { label: 'Quote', action: () => tiptapEditor.chain().focus().toggleBlockquote().run(), check: () =>
  tiptapEditor.isActive('blockquote') },
        { label: 'Image', action: () => addImage(), check: () => false }
      ];
      buttons.forEach(({ label, action, check }) => {
        const btn = document.createElement('button');
        btn.textContent = label;
        btn.type = 'button';
        btn.onclick = (e) => { e.preventDefault(); action(); updateToolbar(); };
        toolbar.appendChild(btn);
      });
      function updateToolbar() {
        toolbar.querySelectorAll('button').forEach((btn, i) => {
          btn.classList.toggle('is-active', buttons[i].check());
        });
      }
      tiptapEditor.on('update', updateToolbar);
      tiptapEditor.on('selectionUpdate', updateToolbar);
    }
    function addImage() {
      const url = prompt('Enter image URL (or upload via Uploadcare below):');
      if (url) tiptapEditor.chain().focus().setImage({ src: url }).run();
    }
    function setupUploadcare() {
      const formInput = document.querySelector('uc-form-input[ctx-name="story"]');
      const hiddenInput = document.getElementById('story_hero');
      if (formInput) {
        new MutationObserver((mutations) => {
          mutations.forEach((m) => {
            if (m.attributeName === 'value') {
              try {
                const data = JSON.parse(formInput.getAttribute('value'));
                if (data?.length > 0) {
                  uploadedFiles = { allEntries: data };
                  if (hiddenInput) hiddenInput.value = data[0].cdnUrl || '';
                  console.log('‚úÖ Uploadcare files captured');
                }
              } catch (e) {}
            }
          });
        }).observe(formInput, { attributes: true, attributeFilter: ['value'] });
      }
    }
    function setupFormSubmission(form) {
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const submitBtn = form.querySelector('[type="submit"]');
        const originalText = submitBtn.value;
        submitBtn.value = 'Submitting...';
        submitBtn.disabled = true;
        try {
          const formData = {
            story_name: document.getElementById('story_name')?.value || '',
            story_email: document.getElementById('story_email')?.value || '',
            story_input: document.getElementById('story_input')?.value || '',
            story_tags: document.getElementById('story_tags')?.value || '',
            story_checkbox: document.getElementById('story_checkbox')?.checked ? 'true' : 'false',
            story_content_html: tiptapEditor ? tiptapEditor.getHTML() : '',
            uploadcare_uuid: '',
            uploadcare_url: '',
            uploadcare_file_name: '',
            uploadcare_file_size: 0,
            uploadcare_mime_type: ''
          };
          // Get Uploadcare data
          if (uploadedFiles?.allEntries?.length > 0) {
            const file = uploadedFiles.allEntries[0];
            formData.uploadcare_uuid = file.uuid || '';
            formData.uploadcare_url = file.cdnUrl || '';
            formData.uploadcare_file_name = file.name || '';
            formData.uploadcare_file_size = file.size || 0;
            formData.uploadcare_mime_type = file.mimeType || '';
          }
          console.log('üì§ Submitting:', formData);
          const response = await fetch(CONFIG.xanoEndpoint, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
          });
          if (!response.ok) throw new Error(`Server error: ${response.status}`);
          form.style.display = 'none';
          form.parentElement.querySelector('.w-form-done').style.display = 'block';
          console.log('‚úÖ Story submitted successfully');
        } catch (error) {
          console.error('‚ùå Error:', error);
          form.parentElement.querySelector('.w-form-fail').style.display = 'block';
        } finally {
          submitBtn.value = originalText;
          submitBtn.disabled = false;
        }
      });
    }
  })();
  </script>
  <!--  Disable Webflow native form handling  -->
  <script>
  var Webflow = Webflow || [];
  Webflow.push(function() {
    $(document).off('submit');
  });
  </script>
<style>:root {--image-i5cec3e91: url('');--image-7b40fadb: url('');--image-i5f5e633f: url('/assets/images/background_bigoaktree.jpg');}</style><style>.w-video.w-embed {
            aspect-ratio: 16 / 9;
        }</style></head>
<body>
  <div class="pageswrap">
    <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar w-nav">
      <a href="/" class="brand w-nav-brand"><img width="Auto" loading="lazy" alt="" src="/assets/images/usc_logo_horizontal_rgb_k_rev.svg" class="image-3"></a>
      <div class="menu-button w-nav-button">
        <div class="icon w-icon-nav-menu"></div>
      </div>
      <nav role="navigation" class="nav-menu w-nav-menu">
        <a href="/login/" class="navhead w-nav-link">Login</a>
        <a href="/stories/" class="navhead w-nav-link">Your Story</a>
        <a href="/profiles/" class="navhead w-nav-link">Profiles</a>
        <a data-w-id="1e3698c5-c6b7-668b-a362-a631a0baa014" href="#" class="navhead w-nav-link">Donate</a>
      </nav>
    </div>
    <header class="page-header"></header>
    <div class="page-main">
      <section class="section-2 x-hero">
        <div class="_00login">
          <div>
            <h1 class="tradeheading">register</h1>
          </div>
          <div class="abcheroform">
            <div class="w-layout-grid abcform-grid">
              <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c46-9f8e6433" class="form-block-custom w-form">
                <form id="wf-form-trade" name="wf-form-abcTrade" data-name="abctrade" action="https://xerb-qpd6-hd8t.n7.xano.io/api:9lz93PXx/trade" method="post" class="form-custom" data-wf-page-id="69548d89878823389f8e6433" data-wf-element-id="994b36b4-ed9f-8548-f818-40e31adf3c47" data-ajax="true">
                  <div class="formdiv"><label for="First" class="abclabel">FIRST NAME</label><input class="tradename w-input" maxlength="256" name="First" data-name="First" placeholder=" " type="text" id="First"></div>
                  <div class="formdiv"><label for="Last" class="abclabel">LAST NAME</label><input class="tradename w-node-_994b36b4-ed9f-8548-f818-40e31adf3c4f-9f8e6433 w-input" maxlength="256" name="Last" data-name="Last" placeholder=" " type="text" id="Last" required=""></div>
                  <div class="formdiv"><label for="Firm" class="abclabel">password</label><input class="tradename w-node-_994b36b4-ed9f-8548-f818-40e31adf3c53-9f8e6433 w-input" maxlength="256" name="Firm" data-name="Firm" placeholder=" " type="text" id="Firm" required=""></div>
                  <div class="formdiv"><label for="Email" class="abclabel">EMAIL</label><input class="tradename w-input" maxlength="256" name="Email" data-name="Email" placeholder=" " type="email" id="Email" required=""></div><input type="submit" data-wait="Please wait..." class="button-abcgrid reverse w-button" value="Get Started">
                  <div id="w-node-fd49a337-dd78-d9ce-93a0-fa10f3d7630f-9f8e6433" class="register-right">
                    <a href="#" class="w-inline-block">
                      <div class="registered-link">Already Registered? ¬†Login</div>
                    </a>
                  </div>
                </form>
                <div class="successmessage w-form-done">
                  <div>Thank you! Your submission has been received!</div>
                </div>
                <div id="Error" class="error-message-abctrade w-form-fail">
                  <div>Oops! Something went wrong while submitting the form.</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="section-2 bg-neutral-lightest">
        <div></div>
        <section class="section-2 bg-neutral-lightest">
          <div id="wr-form-project" class="_00clientform">
            <h1 class="projectstart">submit your story</h1>
            <div class="_00formwrap">
              <div id="story" class="w-form">
                <form id="wf-form-story" name="wf-form-story" data-name="story" action="https://xerb-qpd6-hd8t.n7.xano.io/api:pIN2vLYu/stories" method="post" data-wf-page-id="69548d89878823389f8e6433" data-wf-element-id="994b36b4-ed9f-8548-f818-40e31adf3c67" data-ajax="true">
                  <div class="w-layout-grid grid-5">
                    <div id="story-name" class="formhalf w-node-_994b36b4-ed9f-8548-f818-40e31adf3c69-9f8e6433"><label for="story_name" class="field-label">name</label><input class="input w-input" maxlength="256" name="story_name" data-name="story_name" placeholder="" type="text" id="story_name" required=""></div>
                    <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c6d-9f8e6433" class="formhalf"><label for="story_email" class="field-label">email</label><input class="input w-input" maxlength="256" name="story_email" data-name="story_email" placeholder="" role="" type="email" id="story_email" required=""></div>
                    <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c71-9f8e6433" class="formhalf"><label for="story_summary" id="project-links" class="field-label">story summary</label><input class="input w-input" maxlength="256" name="story_summary" data-name="story_summary" placeholder="" type="text" id="story_summary"></div>
                    <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c75-9f8e6433" class="formhalf"><label for="story_tags" id="project-links" class="field-label">tags</label><input class="input w-input" maxlength="256" name="story_tags" data-name="story_tags" placeholder="comma separate the tags" type="text" id="story_tags"></div>
                    <div class="formhalf"><label for="project-links-3" id="project-links" class="field-label">permission to publish</label><label id="story-checkbox" class="w-checkbox checkbox-field">
                        <div class="w-checkbox-input w-checkbox-input--inputType-custom checkbox"></div><input type="checkbox" name="story_checkbox" id="story_checkbox" data-name="story_checkbox" style="opacity:0;position:absolute;z-index:-1"><span class="paragraph w-form-label" for="story_checkbox">I agree to Privacy Link and Terms of Use</span>
                      </label></div>
                    <div class="formhalf"><label for="story_hero" class="field-label">upload documents</label><input class="w-input" maxlength="256" name="story_hero" data-name="story_hero" placeholder="" role="uploadcare-uploader" type="text" id="story_hero"><uploader-story ctx-name="story"><uc-config ctx-name="story" pubkey="d5a211f6dffc8925ca24" group-output="true" locale-name="en" files-view-mode="list" data-ucmetadata="{&quot;Alt&quot;:&quot;story&quot;}" img-only="false" source-list="local, url, camera, dropbox, gdrive, facebook" camera-modes="photo, video" multiple="true" multiple-min="0" multiple-max="0" use-cloud-image-editor="true" text="story_hero" use-cloud-image-editor-tabs="crop, tuning, filters"></uc-config><uc-file-uploader-regular ctx-name="story" class="uc-dark" headless="true" data-uploadcare="true"><uc-form-input ctx-name="story"></uc-form-input></uc-file-uploader-regular><uc-upload-ctx-provider ctx-name="story"></uc-upload-ctx-provider><span ctx-name="story" style="display: block;"> </span></uploader-story></div>
                    <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c8d-9f8e6433" class="formhalf"><label for="story_quill" id="project-links" class="field-label">edit your story</label>
                      <div id="storyeditor" class="storyeditor">
                        <div class="w-embed w-script">
                          <style>
  /* ========== TIPTAP EDITOR STYLES ========== */
  .tiptap-wrapper {
    border: 1px solid #ccc;
    border-radius: 6px;
    overflow: hidden;
    background-color: #fff;
    margin: 20px 0;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
  .tiptap-toolbar {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 6px;
    padding: 10px;
    border-bottom: 1px solid #e0e0e0;
    background-color: #f8f8f8;
  }
  .tiptap-toolbar button {
    padding: 6px 12px;
    border: 1px solid #d0d0d0;
    border-radius: 4px;
    background-color: #fff;
    cursor: pointer;
    font-size: 14px;
    line-height: 1.4;
    transition: all 0.2s ease;
    font-weight: 500;
    color: #000;
  }
  .tiptap-toolbar button:hover {
    background-color: #e8e8e8;
    border-color: #b0b0b0;
  }
  .tiptap-toolbar button.is-active {
    background-color: #333;
    color: #fff;
    border-color: #333;
  }
  .tiptap-toolbar button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  .tiptap-toolbar .separator {
    width: 1px;
    height: 24px;
    background-color: #d0d0d0;
    margin: 0 4px;
  }
  .tiptap-editor {
    padding: 16px;
    min-height: 300px;
    max-height: 600px;
    overflow-y: auto;
    outline: none;
    line-height: 1.6;
    font-size: 16px;
    color: #000 !important;
  }
  .tiptap-editor:focus {
    outline: none;
  }
  /* Force all text elements to be black */
  .tiptap-editor * {
    color: #000 !important;
  }
  /* Exception for links - keep them blue */
  .tiptap-editor a {
    color: #0066cc !important;
  }
  /* Exception for code blocks - keep dark background with light text */
  .tiptap-editor pre,
  .tiptap-editor pre * {
    color: #f8f8f2 !important;
  }
  /* Placeholder text should be gray */
  .tiptap-editor .ProseMirror > p.is-editor-empty:first-child::before {
    color: #aaa !important;
    content: attr(data-placeholder);
    float: left;
    height: 0;
    pointer-events: none;
  }
  /* ========== CONTENT FORMATTING STYLES ========== */
  .tiptap-editor p {
    margin: 0 0 12px 0;
    color: #000 !important;
  }
  .tiptap-editor p:last-child {
    margin-bottom: 0;
  }
  .tiptap-editor h1,
  .tiptap-editor h2,
  .tiptap-editor h3 {
    margin: 24px 0 12px 0;
    font-weight: 600;
    line-height: 1.3;
    color: #000 !important;
  }
  .tiptap-editor h1:first-child,
  .tiptap-editor h2:first-child,
  .tiptap-editor h3:first-child {
    margin-top: 0;
  }
  .tiptap-editor h1 { 
    font-size: 2em;
    color: #000 !important;
  }
  .tiptap-editor h2 { 
    font-size: 1.5em;
    color: #000 !important;
  }
  .tiptap-editor h3 { 
    font-size: 1.25em;
    color: #000 !important;
  }
  .tiptap-editor ul,
  .tiptap-editor ol {
    padding-left: 24px;
    margin: 12px 0;
    color: #000 !important;
  }
  .tiptap-editor li {
    margin: 4px 0;
    color: #000 !important;
  }
  .tiptap-editor blockquote {
    border-left: 4px solid #ccc;
    padding-left: 16px;
    margin: 16px 0;
    color: #333 !important;
    font-style: italic;
  }
  .tiptap-editor code {
    background-color: #f4f4f4;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
    color: #000 !important;
  }
  .tiptap-editor pre {
    background-color: #2d2d2d;
    color: #f8f8f2 !important;
    padding: 16px;
    border-radius: 6px;
    overflow-x: auto;
    margin: 16px 0;
  }
  .tiptap-editor pre code {
    background: none;
    padding: 0;
    color: #f8f8f2 !important;
    font-size: 0.9em;
  }
  .tiptap-editor a {
    color: #0066cc !important;
    text-decoration: underline;
  }
  .tiptap-editor a:hover {
    color: #0052a3 !important;
  }
  .tiptap-editor img {
    max-width: 100%;
    height: auto;
    border-radius: 6px;
    margin: 16px 0;
    display: block;
  }
  .tiptap-editor strong {
    font-weight: 600;
    color: #000 !important;
  }
  .tiptap-editor em {
    font-style: italic;
    color: #000 !important;
  }
  .tiptap-editor u {
    text-decoration: underline;
    color: #000 !important;
  }
  .tiptap-editor s {
    text-decoration: line-through;
    color: #000 !important;
  }
  /* ========== LOADING STATE ========== */
  .tiptap-loading {
    text-align: center;
    padding: 40px;
    color: #999;
  }
  /* Override any Webflow styles that might be affecting text color */
  .tiptap-editor .ProseMirror {
    color: #000 !important;
  }
  .tiptap-editor .ProseMirror p,
  .tiptap-editor .ProseMirror h1,
  .tiptap-editor .ProseMirror h2,
  .tiptap-editor .ProseMirror h3,
  .tiptap-editor .ProseMirror li,
  .tiptap-editor .ProseMirror span,
  .tiptap-editor .ProseMirror div {
    color: #000 !important;
  }
  /* ========== UPLOADCARE BUTTON STYLING ========== */
  /* Make Uploadcare buttons black with no rounded corners */
  .uploadcare--widget__button,
  .uploadcare--button,
  .uploadcare--button_primary {
    background-color: #000 !important;
    color: #fff !important;
    border-radius: 0 !important;
    border: none !important;
  }
  .uploadcare--widget__button:hover,
  .uploadcare--button:hover,
  .uploadcare--button_primary:hover {
    background-color: #333 !important;
  }
  /* Remove rounded corners from all Uploadcare elements */
  .uploadcare--widget,
  .uploadcare--dialog,
  .uploadcare--panel,
  .uploadcare--tab,
  .uploadcare--button,
  .uploadcare--preview,
  .uploadcare--file {
    border-radius: 0 !important;
  }
  /* Style the "Choose a file" button specifically */
  .uploadcare--widget__button_type_open {
    background-color: #000 !important;
    color: #fff !important;
    border-radius: 0 !important;
  }
  /* Style the Upload button */
  .uploadcare--widget__button_type_upload {
    background-color: #000 !important;
    color: #fff !important;
    border-radius: 0 !important;
  }
</style>
                          <!--  ========== EDITOR HTML STRUCTURE ==========  -->
                          <div class="tiptap-wrapper" id="story-editor-wrapper">
                            <div class="tiptap-toolbar" id="tiptap-toolbar">
                              <button type="button" data-action="bold" title="Bold (Ctrl+B)"><strong>B</strong></button>
                              <button type="button" data-action="italic" title="Italic (Ctrl+I)"><em>I</em></button>
                              <button type="button" data-action="underline" title="Underline (Ctrl+U)"><u>U</u></button>
                              <button type="button" data-action="strike" title="Strikethrough"><s>S</s></button>
                              <div class="separator"></div>
                              <button type="button" data-action="h1" title="Heading 1">H1</button>
                              <button type="button" data-action="h2" title="Heading 2">H2</button>
                              <button type="button" data-action="h3" title="Heading 3">H3</button>
                              <div class="separator"></div>
                              <button type="button" data-action="bulletList" title="Bullet List">‚óè List</button>
                              <button type="button" data-action="orderedList" title="Numbered List">1. List</button>
                              <button type="button" data-action="blockquote" title="Quote">" Quote</button>
                              <button type="button" data-action="codeBlock" title="Code Block">&lt;/&gt; Code</button>
                              <div class="separator"></div>
                              <button type="button" data-action="link" title="Insert Link">üîó Link</button>
                              <button type="button" data-action="upload" title="Upload File">üìé Upload</button>
                            </div>
                            <div class="tiptap-editor" id="tiptap-editor">
                              <div class="tiptap-loading">Loading editor...</div>
                            </div>
                          </div>
                          <!--  Hidden inputs to store editor content  -->
                          <input type="hidden" id="story_content_html" name="story_content_html">
                          <input type="hidden" id="story_content_json" name="story_content_json">
                          <!--  ========== UPLOADCARE WIDGET - ENHANCED CONFIGURATION ==========  -->
                          <script>
  // Uploadcare global configuration
  UPLOADCARE_PUBLIC_KEY = 'b3ab69f1399f85fd8f43';
  UPLOADCARE_TABS = 'file url camera dropbox gdrive facebook instagram';
  UPLOADCARE_IMAGES_ONLY = false;
  UPLOADCARE_FILE_TYPES = null;
  UPLOADCARE_MAX_FILE_SIZE = 104857600; // 100MB
  UPLOADCARE_LOCALE = 'en';
  UPLOADCARE_PREVIEW_STEP = true;
  UPLOADCARE_CLEARABLE = true;
  UPLOADCARE_MULTIPLE = false;
</script>
                          <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>
                          <!--  ========== TIPTAP EDITOR SCRIPT ==========  -->
                          <script type="module">
// Import Tiptap from CDN
import { Editor } from 'https://esm.sh/@tiptap/core@2.1.13';
import StarterKit from 'https://esm.sh/@tiptap/starter-kit@2.1.13';
import Underline from 'https://esm.sh/@tiptap/extension-underline@2.1.13';
import Link from 'https://esm.sh/@tiptap/extension-link@2.1.13';
import Image from 'https://esm.sh/@tiptap/extension-image@2.1.13';
import Placeholder from 'https://esm.sh/@tiptap/extension-placeholder@2.1.13';
// ============================================================================
// CONFIGURATION
// ============================================================================
const CONFIG = {
  xanoEndpoint: 'https://xerb-qpd6-hd8t.n7.xano.io/api:pIN2vLYu/story',
  formSelector: '#wf-form-Story-Form',
  requiredFields: ['story_name', 'story_email'],
  placeholderText: 'Start writing your story here... '
};
// ============================================================================
let editor = null;
// Initialize Tiptap Editor
function initTiptapEditor() {
  const editorElement = document.getElementById('tiptap-editor');
  if (!editorElement) {
    console.error('‚ùå Tiptap editor element not found');
    return;
  }
  editorElement.innerHTML = '';
  try {
    editor = new Editor({
      element: editorElement,
      extensions: [
        StarterKit.configure({
          heading: {
            levels: [1, 2, 3]
          }
        }),
        Underline,
        Link.configure({
          openOnClick: false,
          autolink: true,
          HTMLAttributes: {
            target: '_blank',
            rel: 'noopener noreferrer'
          }
        }),
        Image.configure({
          inline: false,
          allowBase64: false,
          HTMLAttributes: {
            class: 'editor-image'
          }
        }),
        Placeholder.configure({
          placeholder: CONFIG.placeholderText
        })
      ],
      editorProps: {
        attributes: {
          style: 'color: #000 !important;'
        }
      },
      onUpdate: ({ editor }) => {
        const htmlInput = document.getElementById('story_content_html');
        const jsonInput = document.getElementById('story_content_json');
        if (htmlInput) {
          htmlInput.value = editor.getHTML();
        }
        if (jsonInput) {
          jsonInput.value = JSON.stringify(editor.getJSON());
        }
      },
      onCreate: ({ editor }) => {
        console.log('‚úÖ Tiptap editor initialized successfully');
        const editorEl = document.querySelector('.tiptap-editor .ProseMirror');
        if (editorEl) {
          editorEl.style.color = '#000';
        }
      }
    });
    setupToolbar();
  } catch (error) {
    console.error('‚ùå Error initializing Tiptap:', error);
    editorElement.innerHTML = '<div class="tiptap-loading" style="color: red;">Error loading editor. Please refresh the page.</div>';
  }
}
// Setup Toolbar Button Handlers
function setupToolbar() {
  const toolbar = document.getElementById('tiptap-toolbar');
  if (!toolbar || !editor) return;
  const actions = {
    bold: () => editor.chain().focus().toggleBold().run(),
    italic: () => editor.chain().focus().toggleItalic().run(),
    underline: () => editor.chain().focus().toggleUnderline().run(),
    strike: () => editor.chain().focus().toggleStrike().run(),
    h1: () => editor.chain().focus().toggleHeading({ level: 1 }).run(),
    h2: () => editor.chain().focus().toggleHeading({ level: 2 }).run(),
    h3: () => editor.chain().focus().toggleHeading({ level: 3 }).run(),
    bulletList: () => editor.chain().focus().toggleBulletList().run(),
    orderedList: () => editor.chain().focus().toggleOrderedList().run(),
    blockquote: () => editor.chain().focus().toggleBlockquote().run(),
    codeBlock: () => editor.chain().focus().toggleCodeBlock().run(),
    link: handleLinkAction,
    upload: handleFileUpload
  };
  toolbar.addEventListener('click', (e) => {
    const button = e.target.closest('button');
    if (!button || !editor) return;
    const action = button.dataset.action;
    if (actions[action]) {
      e.preventDefault();
      e.stopPropagation();
      actions[action]();
      if (action !== 'upload') {
        updateToolbarState();
      }
    }
  });
  editor.on('transaction', updateToolbarState);
  editor.on('selectionUpdate', updateToolbarState);
  updateToolbarState();
}
// Update toolbar button active states
function updateToolbarState() {
  if (!editor) return;
  const toolbar = document.getElementById('tiptap-toolbar');
  if (!toolbar) return;
  toolbar.querySelectorAll('button').forEach(button => {
    const action = button.dataset.action;
    let isActive = false;
    switch (action) {
      case 'bold':
        isActive = editor.isActive('bold');
        break;
      case 'italic':
        isActive = editor.isActive('italic');
        break;
      case 'underline':
        isActive = editor.isActive('underline');
        break;
      case 'strike':
        isActive = editor.isActive('strike');
        break;
      case 'h1':
        isActive = editor.isActive('heading', { level: 1 });
        break;
      case 'h2':
        isActive = editor.isActive('heading', { level: 2 });
        break;
      case 'h3':
        isActive = editor.isActive('heading', { level: 3 });
        break;
      case 'bulletList':
        isActive = editor.isActive('bulletList');
        break;
      case 'orderedList':
        isActive = editor.isActive('orderedList');
        break;
      case 'blockquote':
        isActive = editor.isActive('blockquote');
        break;
      case 'codeBlock':
        isActive = editor.isActive('codeBlock');
        break;
      case 'link':
        isActive = editor.isActive('link');
        break;
    }
    button.classList.toggle('is-active', isActive);
  });
}
// Handle link insertion/removal
function handleLinkAction() {
  if (!editor) return;
  const previousUrl = editor.getAttributes('link').href;
  const url = window.prompt('Enter URL (leave empty to remove link):', previousUrl || 'https://');
  if (url === null) return;
  if (url === '') {
    editor.chain().focus().extendMarkRange('link').unsetLink().run();
  } else {
    editor.chain().focus().extendMarkRange('link').setLink({ href: url }).run();
  }
}
// Handle file upload via Uploadcare with enhanced UI
function handleFileUpload() {
  console.log('üìé Upload button clicked');
  if (!editor) {
    console.error('‚ùå Editor not initialized');
    return;
  }
  if (typeof uploadcare === 'undefined') {
    console.error('‚ùå Uploadcare widget not loaded');
    alert('File upload is not available. Please refresh the page and try again.');
    return;
  }
  try {
    console.log('üöÄ Opening Uploadcare dialog...');
    const dialog = uploadcare.openDialog(null, {
      publicKey: 'b3ab69f1399f85fd8f43',
      imagesOnly: false,
      tabs: 'file url camera dropbox gdrive facebook instagram',
      multiple: false,
      inputAcceptTypes: null,
      previewStep: true,
      clearable: true,
      locale: 'en',
      imageShrink: false,
      systemDialog: false
    });
    dialog.done((file) => {
      console.log('üì§ File selected, processing...');
      file.promise().done((fileInfo) => {
        console.log('‚úÖ File uploaded successfully:', fileInfo);
        const isImage = fileInfo.mimeType && fileInfo.mimeType.startsWith('image/');
        if (isImage) {
          editor.chain().focus().setImage({
            src: fileInfo.cdnUrl,
            alt: fileInfo.name || 'Uploaded image'
          }).run();
          console.log('üñºÔ∏è Image inserted into editor');
        } else {
          const fileExtension = fileInfo.name ? fileInfo.name.split('.').pop().toUpperCase() : 'FILE';
          const fileSize = fileInfo.size ? formatFileSize(fileInfo.size) : '';
          const linkText = `üìé ${fileInfo.name || 'Download file'} (${fileExtension}${fileSize ? ' - ' + fileSize : ''})`;
          editor.chain().focus().insertContent(`<p><a href="${fileInfo.cdnUrl}" target="_blank" rel="noopener noreferrer">${linkText}</a></p>`).run();
          console.log('üìÑ File link inserted into editor');
        }
        storeFileMetadata(fileInfo);
      }).fail((error) => {
        console.error('‚ùå File upload failed:', error);
        alert('File upload failed. Please try again.');
      });
    });
    dialog.fail((error) => {
      console.log('‚ÑπÔ∏è Upload dialog closed or cancelled');
    });
  } catch (error) {
    console.error('‚ùå Error opening Uploadcare dialog:', error);
    alert('Error opening file uploader: ' + error.message);
  }
}
// Format file size for display
function formatFileSize(bytes) {
  if (bytes === 0) return '0 Bytes';
  const k = 1024;
  const sizes = ['Bytes', 'KB', 'MB', 'GB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
}
// Store uploaded file metadata
function storeFileMetadata(fileInfo) {
  const form = document.querySelector(CONFIG.formSelector);
  if (!form) {
    console.warn('‚ö†Ô∏è Form not found, cannot store file metadata');
    return;
  }
  const fields = {
    'uploadcare_uuid': fileInfo.uuid,
    'uploadcare_url': fileInfo.cdnUrl,
    'uploadcare_file_name': fileInfo.name,
    'uploadcare_file_size': fileInfo.size,
    'uploadcare_mime_type': fileInfo.mimeType
  };
  Object.entries(fields).forEach(([name, value]) => {
    let input = form.querySelector(`input[name="${name}"]`);
    if (!input) {
      input = document.createElement('input');
      input.type = 'hidden';
      input.name = name;
      form.appendChild(input);
    }
    input.value = value || '';
  });
  console.log('üíæ File metadata stored:', fields);
}
// Setup Form Submission Handler
function setupFormHandler() {
  const form = document.querySelector(CONFIG.formSelector);
  if (!form) {
    console.error(`‚ùå Form not found with selector: ${CONFIG.formSelector}`);
    console.log('üí° Make sure your form has an ID attribute set in Webflow Designer');
    return;
  }
  console.log('‚úÖ Form found:', CONFIG.formSelector);
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    e.stopPropagation();
    const submitBtn = form.querySelector('[type="submit"]');
    const originalBtnText = submitBtn?.value || submitBtn?.textContent || 'Submit';
    if (submitBtn) {
      submitBtn.disabled = true;
      if (submitBtn.value) {
        submitBtn.value = 'Submitting...';
      } else {
        submitBtn.textContent = 'Submitting...';
      }
    }
    try {
      for (const fieldName of CONFIG.requiredFields) {
        const field = form.querySelector(`[name="${fieldName}"]`);
        if (!field || !field.value.trim()) {
          throw new Error(`Please fill in the ${fieldName.replace(/_/g, ' ')} field.`);
        }
      }
      if (editor && editor.isEmpty) {
        throw new Error('Please write your story before submitting.');
      }
      const formData = new FormData(form);
      const data = {};
      for (let [key, value] of formData.entries()) {
        data[key] = value;
      }
      const checkbox = form.querySelector('[name="story_checkbox"]');
      if (checkbox) {
        data.story_checkbox = checkbox.checked;
      }
      if (!data.story_input) {
        data.story_input = '';
      }
      console.log('üì§ Submitting to Xano:', data);
      const response = await fetch(CONFIG.xanoEndpoint, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      });
      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.message || `Server error: ${response.status}`);
      }
      const result = await response.json();
      console.log('‚úÖ Submission successful:', result);
      form.style.display = 'none';
      const successDiv = form.parentElement?.querySelector('.w-form-done');
      if (successDiv) {
        successDiv.style.display = 'block';
      }
      form.reset();
      if (editor) {
        editor.commands.clearContent();
      }
    } catch (error) {
      console.error('‚ùå Submission error:', error);
      const errorDiv = form.parentElement?.querySelector('.w-form-fail');
      if (errorDiv) {
        errorDiv.textContent = error.message;
        errorDiv.style.display = 'block';
      } else {
        alert(error.message);
      }
    } finally {
      if (submitBtn) {
        submitBtn.disabled = false;
        if (submitBtn.value) {
          submitBtn.value = originalBtnText;
        } else {
          submitBtn.textContent = originalBtnText;
        }
      }
    }
  });
  console.log('‚úÖ Form submission handler ready');
}
// Initialize everything
function init() {
  console.log('üöÄ Initializing Tiptap editor with black buttons...');
  setTimeout(() => {
    initTiptapEditor();
    setupFormHandler();
    console.log('‚úÖ Tiptap integration ready');
  }, 100);
}
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}
window.tiptapEditor = () => editor;
</script>
                        </div>
                      </div>
                    </div>
                  </div><input type="submit" data-wait="Please wait..." class="projectbutton w-button" value="publish">
                </form>
                <div class="w-form-done">
                  <div class="text-block-2">Thank you! Your submission has been received!</div>
                </div>
                <div class="w-form-fail">
                  <div class="text-block-2">Oops! Something went wrong while submitting the form.</div>
                </div>
              </div>
            </div>
          </div>
          <div></div>
        </section>
      </section>
    </div>
    <div class="page-footer">
      <div class="footer">
        <div class="grid-6 vertical-5xl">
          <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3c9d-9f8e6433" class="vertical-m"><img width="300" height="49" alt="" src="/assets/images/usc_logo_horizontal_rgb_g_rev.svg" loading="lazy" class="footer---logo">
            <div>let's go</div>
          </div>
          <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3ca1-9f8e6433" class="vertical-m">
            <div><strong>Contact us</strong></div>
            <div>
              <div>email</div>
              <a href="mailto:marthahagenblack@gmail.com" class="display-block"></a>
            </div>
          </div>
          <div id="w-node-_994b36b4-ed9f-8548-f818-40e31adf3ca9-9f8e6433" class="font-size-s">
            <div> </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-3-popup">
      <a scroll="enable" data-w-id="994b36b4-ed9f-8548-f818-40e31adf3cad" href="#" class="modal-bg w-inline-block">
        <div class="screen-reader-only">Close Modal</div>
      </a>
      <div class="modal w-clearfix">
        <a scroll="enable" data-w-id="994b36b4-ed9f-8548-f818-40e31adf3cb1" href="#" class="close-btn-w w-inline-block">
          <div class="close-btn-line is--1st"></div>
          <div class="close-btn-line is--2nd"></div>
          <div class="screen-reader-only">Close Modal</div>
        </a>
        <div class="modal-content-w">
          <div class="w-layout-grid grid-2">
            <div class="image-left"><img loading="lazy" src="https://cdn.prod.website-files.com/691b528b32c64580050add6b/691b8b7cae2884f976781b57_split-thomas_cooper.jpg" alt="" class="modalimage"></div>
            <div class="code">
              <div class="code-embed w-embed w-script">
                <script async="" src="https://js.stripe.com/v3/buy-button.js">
</script>
                <stripe-buy-button buy-button-id="buy_btn_1SVUwGBZxJbU2KR8mH2l1P0n" publishable-key="pk_live_8tosSyj6NrUl0a7csXx8Ai5g">
                </stripe-buy-button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js" type="text/javascript" crossorigin="anonymous"></script>
  <script src="/assets/js/webflow.js" type="text/javascript"></script>
  <script>
  // ===== XANO AUTH CONFIG =====
  const XANO_API = 'https://xerb-qpd6-hd8t.n7.xano.io/api:AUTH';
  // ===== AUTH STATE =====
  const XanoAuth = {
    getToken: () => {
      try { return JSON.parse(localStorage.getItem('xano_auth_token')); } catch(e) { return null; }
    },
    getUser: () => {
      try { return JSON.parse(localStorage.getItem('xano_user')); } catch(e) { return null; }
    },
    isAuthenticated: () => !!XanoAuth.getToken(),
    logout: () => {
      localStorage.removeItem('xano_auth_token');
      localStorage.removeItem('xano_user');
      window.location.href = '/';
    }
  };
  // ===== LOGIN FORM HANDLER =====
  var Webflow = Webflow || [];
  Webflow.push(function() {
    $(document).off('submit');
    $('form[action*="auth/login"]').submit(function(e) {
      e.preventDefault();
      const $form = $(this);
      const $btn = $form.find('[type=submit]');
      const btnText = $btn.val();
      $btn.val('Signing in...').prop('disabled', true);
      fetch($form.attr('action'), {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          email: $form.find('[name=email]').val(),
          password: $form.find('[name=password]').val()
        })
      })
      .then(res => res.json())
      .then(data => {
        if (data.authToken) {
          localStorage.setItem('xano_auth_token', JSON.stringify(data.authToken));
          localStorage.setItem('xano_user', JSON.stringify(data.user));
          window.location.href = '/dashboard';
        } else {
          throw new Error(data.message || 'Login failed');
        }
      })
      .catch(err => {
        $form.siblings('.w-form-fail').show().text(err.message);
        $btn.val(btnText).prop('disabled', false);
      });
    });
    // ===== VISIBILITY =====
    const user = XanoAuth.getUser();
    // Show/hide based on auth state
    $('.auth---visible').toggle(!!user);
    $('.auth---invisible').toggle(!user);
    // Display user info
    if (user) {
      $('[data-user-name]').text(user.first_name + ' ' + user.last_name);
      $('[data-user-email]').text(user.email);
    }
    // Logout buttons
    $('[data-logout]').click(() => XanoAuth.logout());
    // Protected pages
    if ($('body').hasClass('auth---required') && !user) {
      window.location.href = '/login';
    }
  });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/Draggable.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(e){"use strict";function m(){return i||"undefined"!=typeof window&&(i=window.gsap)}function p(t){return c(t).id}function q(t){return f[p("string"==typeof t?g(t)[0]:t)]}function r(t){var e,r=o;if(.05<=t-s)for(s=t;r;)((e=r.g(r.t,r.p))!==r.v1||.2<t-r.t1)&&(r.v2=r.v1,r.v1=e,r.t2=r.t1,r.t1=t),r=r._next}function t(){(i=m())&&(g=i.utils.toArray,n=i.utils.getUnit,c=i.core.getCache,a=i.ticker,l=1)}function u(t,e,r,i){this.t=t,this.p=e,this.g=t._gsap.get,this.rCap=d[r||n(this.g(t,e))],this.v1=this.v2=0,this.t1=this.t2=a.time,i&&((this._next=i)._prev=this)}var i,l,g,n,o,a,s,c,f={},d={deg:360,rad:2*Math.PI},v=function(){function VelocityTracker(e,r){l||t(),this.target=g(e)[0],(f[p(this.target)]=this)._props={},r&&this.add(r)}VelocityTracker.register=function register(e){i=e,t()};var e=VelocityTracker.prototype;return e.get=function get(t,e){var r,i,n=this._props[t]||console.warn("Not tracking "+t+" velocity.");return r=parseFloat(e?n.v1:n.g(n.t,n.p))-parseFloat(n.v2),(i=n.rCap)&&(r%=i)!==r%(i/2)&&(r=r<0?r+i:r-i),function _round(t){return Math.round(1e4*t)/1e4}(r/((e?n.t1:a.time)-n.t2))},e.getAll=function getAll(){var t,e={},r=this._props;for(t in r)e[t]=this.get(t);return e},e.isTracking=function isTracking(t){return t in this._props},e.add=function add(t,e){t in this._props||(o||(a.add(r),s=a.time),o=this._props[t]=new u(this.target,t,e,o))},e.remove=function remove(t){var e,i,n=this._props[t];n&&(e=n._prev,i=n._next,e&&(e._next=i),i?i._prev=e:o===n&&(a.remove(r),o=0),delete this._props[t])},e.kill=function kill(t){for(var e in this._props)this.remove(e);t||delete f[p(this.target)]},VelocityTracker.track=function track(e,r,i){l||t();for(var n,o,a=[],s=g(e),c=r.split(","),u=(i||"").split(","),f=s.length;f--;){for(n=q(s[f])||new VelocityTracker(s[f]),o=c.length;o--;)n.add(c[o],u[o]||u[0]);a.push(n)}return a},VelocityTracker.untrack=function untrack(t,e){var r=(e||"").split(",");g(t).forEach(function(t){var e=q(t);e&&(r.length?r.forEach(function(t){return e.remove(t)}):e.kill(1))})},VelocityTracker.isTracking=function isTracking(t,e){var r=q(t);return r&&r.isTracking(e)},VelocityTracker.getVelocity=function getVelocity(t,e){var r=q(t);return r&&r.isTracking(e)?r.get(e):console.warn("Not tracking velocity of "+e)},VelocityTracker}();v.getByTarget=q,m()&&i.registerPlugin(v);function J(){return h||"undefined"!=typeof window&&(h=window.gsap)&&h.registerPlugin&&h}function L(t){return"number"==typeof t}function M(t){return"object"==typeof t}function N(t){return"function"==typeof t}function Q(t){return t}function U(t){return Math.round(1e4*t)/1e4}function V(t,e,r){for(var i in e)i in t||i===r||(t[i]=e[i]);return t}function W(t){var e,r,i={};for(e in t)i[e]=M(r=t[e])&&!w(r)?W(r):r;return i}function X(t,e,r,i,n){var o,a,s,c,u=e.length,f=0,l=B;if(M(t)){for(;u--;){for(s in o=e[u],a=0,t)a+=(c=o[s]-t[s])*c;a<l&&(f=u,l=a)}if((n||B)<B&&n<Math.sqrt(l))return t}else for(;u--;)(a=(o=e[u])-t)<0&&(a=-a),a<l&&i<=o&&o<=r&&(f=u,l=a);return e[f]}function Y(t,e,r,i,n,o,a){if("auto"===t.end)return t;var s,c,u=t.end;if(r=isNaN(r)?B:r,i=isNaN(i)?-B:i,M(e)){if(s=e.calculated?e:(N(u)?u(e,a):X(e,u,r,i,o))||e,!e.calculated){for(c in s)e[c]=s[c];e.calculated=!0}s=s[n]}else s=N(u)?u(e,a):w(u)?X(e,u,r,i,o):parseFloat(u);return r<s?s=r:s<i&&(s=i),{max:s,min:s,unitFactor:t.unitFactor}}function Z(t,e,r){return isNaN(t[e])?r:+t[e]}function $(t,e){return.05*e*t/T}function _(t,e,r){return Math.abs((e-t)*T/r/.05)}function ba(t,e,r,i){if(e.linkedProps){var n,o,a,s,c,u,f=e.linkedProps.split(","),l={};for(n=0;n<f.length;n++)(a=e[o=f[n]])&&(s=L(a.velocity)?a.velocity:(c=c||j(t))&&c.isTracking(o)?c.get(o):0,u=Math.abs(s/Z(a,"resistance",i)),l[o]=parseFloat(r(t,o))+$(s,u));return l}}function da(){(h=J())&&(y=h.parseEase,F=h.utils.toArray,b=h.utils.getUnit,O=h.core.getCache,E=h.utils.clamp,k=y("power3"),T=k(.05),A=h.core.PropTween,h.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3,progress:1e3,totalProgress:1e3}}),P=h.config(),h.registerPlugin(v),x=1)}var h,x,y,F,k,P,b,A,O,T,E,C,j=v.getByTarget,w=Array.isArray,B=1e10,I={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},R={version:"3.9.1",name:"inertia",register:function register(t){h=t,da()},init:function init(t,e,r,i,n){x||da();var o=j(t);if("auto"===e){if(!o)return void console.warn("No inertia tracking on "+t+". InertiaPlugin.track(target) first.");e=o.getAll()}this.target=t,this.tween=r,C=e;var a,s,c,u,f,l,p,g,d,v=t._gsap,h=v.get,m=e.duration,y=M(m),k=e.preventOvershoot||y&&0===m.overshoot,T=Z(e,"resistance",P.resistance),w=L(m)?m:function _calculateTweenDuration(t,e,r,i,n,o){if(void 0===r&&(r=10),void 0===i&&(i=.2),void 0===n&&(n=1),void 0===o&&(o=0),function _isString(t){return"string"==typeof t}(t)&&(t=F(t)[0]),!t)return 0;var a,s,c,u,f,l,p,g,d,v,h=0,m=B,y=e.inertia||e,k=O(t).get,T=Z(y,"resistance",P.resistance);for(a in v=ba(t,y,k,T),y)I[a]||(s=y[a],M(s)||((g=g||j(t))&&g.isTracking(a)?s=L(s)?{velocity:s}:{velocity:g.get(a)}:(u=+s||0,c=Math.abs(u/T))),M(s)&&(u=L(s.velocity)?s.velocity:(g=g||j(t))&&g.isTracking(a)?g.get(a):0,c=E(i,r,Math.abs(u/Z(s,"resistance",T))),l=(f=parseFloat(k(t,a))||0)+$(u,c),"end"in s&&(s=Y(s,v&&a in v?v:l,s.max,s.min,a,y.radius,u),o&&(C===e&&(C=y=W(e)),y[a]=V(s,y[a],"end"))),"max"in s&&l>+s.max+1e-10?(d=s.unitFactor||P.unitFactors[a]||1,(p=f>s.max&&s.min!==s.max||-15<u*d&&u*d<45?i+.1*(r-i):_(f,s.max,u))+n<m&&(m=p+n)):"min"in s&&l<s.min-1e-10&&(d=s.unitFactor||P.unitFactors[a]||1,(p=f<s.min&&s.min!==s.max||-45<u*d&&u*d<15?i+.1*(r-i):_(f,s.min,u))+n<m&&(m=p+n)),h<p&&(h=p)),h<c&&(h=c));return m<h&&(h=m),r<h?r:h<i?i:h}(t,e,y&&m.max||10,y&&m.min||.2,y&&"overshoot"in m?+m.overshoot:k?0:1,!0);for(a in e=C,C=0,d=ba(t,e,h,T),e)I[a]||(s=e[a],N(s)&&(s=s(i,t,n)),L(s)?f=s:M(s)&&!isNaN(s.velocity)?f=+s.velocity:o&&o.isTracking(a)?f=o.get(a):console.warn("ERROR: No velocity was defined for "+t+" property: "+a),l=$(f,w),g=0,c=h(t,a),u=b(c),c=parseFloat(c),M(s)&&(p=c+l,"end"in s&&(s=Y(s,d&&a in d?d:p,s.max,s.min,a,e.radius,f)),"max"in s&&+s.max<p?k||s.preventOvershoot?l=s.max-c:g=s.max-c-l:"min"in s&&+s.min>p&&(k||s.preventOvershoot?l=s.min-c:g=s.min-c-l)),this._props.push(a),this._pt=new A(this._pt,t,a,c,0,Q,0,v.set(t,a,this)),this._pt.u=u||0,this._pt.c1=l,this._pt.c2=g);return r.duration(w),1},render:function render(t,e){var r=e._pt;for(t=k(e.tween._time/e.tween._dur);r;)r.set(r.t,r.p,U(r.s+r.c1*t+r.c2*t*t)+r.u,r.d,t),r=r._next}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(t){return R[t]=v[t]}),J()&&h.registerPlugin(R),e.InertiaPlugin=R,e.VelocityTracker=v,e.default=R;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});
</script>
  <script>
var Webflow = Webflow || [];
Webflow.push(function() {
  // unbind webflow form handling (keep this if you only want to affect specific forms)
  $(document).off('submit');
  /* Any form on the page */
  $('form').submit(function(e) {
    e.preventDefault();
  	const $form = $(this); // The submitted form
    const $submit = $('[type=submit]', $form); // Submit button of form
    const buttonText = $submit.val(); // Original button text
    const buttonWaitingText = $submit.attr('data-wait'); // Waiting button text value
    const formMethod = $form.attr('method'); // Form method (GET/POST)
    const formAction = $form.attr('action'); // Form action (your Xano endpoint URL)
    const formRedirect = $form.attr('data-redirect'); // Form redirect location
    // if we're editing
    // const xanoID = document.getElementById('id').value // getting the ID of the record to edit
    // let requestURL = formAction.concat(xanoID + "?")
    const formData = $form.serialize(); // Form data
    // console.log(formData) // log request URL to console
    // Set waiting text
    if (buttonWaitingText) {
      $submit.val(buttonWaitingText);
    }
    $.ajax(formAction, {
    	data: formData,
      method: formMethod
    })
    .done((res) => {
      // If form redirect setting set, then use this and prevent any other actions
      if (formRedirect) { window.location = formRedirect; return; }
    	$form
      	.hide() // optional hiding of form
    		.siblings('.w-form-done').show() // Show success
      	.siblings('.w-form-fail').hide(); // Hide failure
    })
    .fail((res) => {
      $form
      	.siblings('.w-form-done').hide() // Hide success
    	  .siblings('.w-form-fail').show(); // show failure
    })
    .always(() => {
      // Reset text
      $submit.val(buttonText);
    });
  });
});
</script>

</body></html>