<!DOCTYPE html>
<html data-wf-page="profiles-page" data-wf-site="691b528b32c64580050add6b" lang="en"><head><link rel="preconnect" crossorigin="true" href="https://assets.website-files.com">{%- seo seo -%}
  <meta charset="utf-8">
  <title>Student Profiles | USC Stories</title>
  <meta content="Discover inspiring stories from USC Moore School of Business graduates." name="description">
  <meta content="width=device-width, initial-scale=1" name="viewport">

  <link href="/assets/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="/assets/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="/assets/css/menu-a3c17a.webflow.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="{{ settings.site.favicon | default: '/assets/images/favicon.ico' }}" rel="shortcut icon" type="image/x-icon">
  <link href="{{ settings.site.apple_touch_icon | default: '/assets/images/webclip.png' }}" rel="apple-touch-icon">

  <!-- Auth0 Config -->
  <meta name="domain" content="dev-daec-qpn.us.auth0.com">
  <meta name="clientId" content="anXkCZDA9aEPTbM3qf3tTtec6GnqFkbw">
  <meta name="loginPath" content="/locked-content">

  <style>
  .auth-visible, .auth-invisible { visibility: hidden; }
  .auth---visible, .auth---invisible { visibility: hidden; }
  .hidden { display: none !important; }
  </style>

  <!-- Overlapping Slider Styles -->
  <style>
  .profiles-section {
    padding: 80px 5%;
    background: #f8f8f8;
  }
  .profiles-header {
    text-align: center;
    margin-bottom: 60px;
  }
  .profiles-header h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: #73000a;
  }
  .profiles-header p {
    font-size: 1.25rem;
    color: #666;
    max-width: 600px;
    margin: 0 auto;
  }

  /* Slider Container */
  .overlapping-slider__wrap {
    position: relative;
    width: 100%;
    padding: 40px 0;
  }
  .overlapping-slider__collection {
    overflow: hidden;
    width: 100%;
  }
  .overlapping-slider__list {
    display: flex;
    gap: 0;
    cursor: grab;
    will-change: transform;
  }
  .overlapping-slider__list:active {
    cursor: grabbing;
  }
  .overlapping-slider__item {
    flex-shrink: 0;
    width: 320px;
    margin-right: 24px;
    will-change: transform;
  }

  /* Profile Card */
  .profile-card {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    transition: box-shadow 0.3s ease;
  }
  .profile-card:hover {
    box-shadow: 0 8px 40px rgba(0,0,0,0.12);
  }
  .profile-card__image {
    width: 100%;
    height: 280px;
    object-fit: cover;
    object-position: center top;
  }
  .profile-card__content {
    padding: 24px;
  }
  .profile-card__name {
    font-size: 1.25rem;
    font-weight: 700;
    margin: 0 0 8px 0;
    color: #1a1a1a;
  }
  .profile-card__major {
    font-size: 0.875rem;
    color: #73000a;
    margin: 0 0 12px 0;
    font-weight: 500;
  }
  .profile-card__excerpt {
    font-size: 0.9rem;
    color: #666;
    line-height: 1.5;
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  .profile-card__link {
    display: inline-block;
    margin-top: 16px;
    color: #73000a;
    font-weight: 600;
    text-decoration: none;
    font-size: 0.875rem;
  }
  .profile-card__link:hover {
    text-decoration: underline;
  }

  /* Slider Controls */
  .slider-controls {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 40px;
  }
  .slider-btn {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    border: 2px solid #73000a;
    background: white;
    color: #73000a;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
  }
  .slider-btn:hover {
    background: #73000a;
    color: white;
  }
  .slider-btn svg {
    width: 20px;
    height: 20px;
  }

  /* Design mode overflow fix */
  .wf-design-mode [data-overlap-slider-collection] {
    overflow: auto;
  }

  @media (max-width: 768px) {
    .profiles-header h1 { font-size: 2rem; }
    .overlapping-slider__item { width: 280px; }
  }
  </style>

  {{ settings.site.header_additional_content }}{%- include "partials/_site-css-variables" -%}
</head>
<body class="body">
  <div class="page-wrapper-2">
    <!-- Navigation -->
    <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar w-nav">
      <a href="/" class="brand w-nav-brand"><img src="/assets/images/logo.png" loading="lazy" width="Auto" alt="USC Logo" class="image-3"></a>
      <div class="menu-button w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
      <nav role="navigation" class="nav-menu w-nav-menu">
        <a href="/" class="navhead w-nav-link">Home</a>
        <a href="/stories" class="navhead w-nav-link">Stories</a>
        <a href="/profiles" class="navhead w-nav-link">Profiles</a>
      </nav>
    </div>

    <!-- Profiles Section -->
    <section class="profiles-section">
      <div class="profiles-header">
        <h1>Student Profiles</h1>
        <p>Meet the Class of 2025 graduates from the Darla Moore School of Business and discover their inspiring journeys.</p>
      </div>

      <!-- Overlapping Card Slider -->
      <div class="overlapping-slider__wrap" data-overlap-slider-init="true" data-scale="0.45" data-rotate="-8">
        <div class="overlapping-slider__collection" data-overlap-slider-collection="true">
          <div class="overlapping-slider__list" data-overlap-slider-list="true">
            {%- for profile in profiles -%}
            <div class="overlapping-slider__item" data-overlap-slider-item="true">
              <div class="profile-card">
                <img
                  src="{{ profile.photo_url | default: '/assets/images/placeholder-profile.jpg' }}"
                  alt="{{ profile.name }}"
                  class="profile-card__image"
                  loading="lazy"
                >
                <div class="profile-card__content">
                  <h3 class="profile-card__name">{{ profile.name }}</h3>
                  {%- if profile.major -%}
                  <p class="profile-card__major">{{ profile.major }}</p>
                  {%- endif -%}
                  <p class="profile-card__excerpt">{{ profile.excerpt }}</p>
                  <a href="/profile/{{ profile.slug }}" class="profile-card__link">Read Full Story â†’</a>
                </div>
              </div>
            </div>
            {%- endfor -%}
          </div>
        </div>
      </div>

      <!-- Slider Controls -->
      <div class="slider-controls">
        <button class="slider-btn" id="slider-prev" aria-label="Previous profile">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>
        <button class="slider-btn" id="slider-next" aria-label="Next profile">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p>&copy; 2025 USC Moore School of Business</p>
      </div>
    </footer>
  </div>

  <!-- GSAP + Draggable -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>

  <!-- Overlapping Slider Script -->
  <script>
  document.addEventListener("DOMContentLoaded", function() {
    const inits = document.querySelectorAll('[data-overlap-slider-init]');

    if (!inits.length) return;

    inits.forEach(function(init) {
      const minScale = +(init.getAttribute('data-scale') || 0.45);
      const maxRotation = +(init.getAttribute('data-rotate') || -8);

      const wrap = init.querySelector('[data-overlap-slider-collection]');
      const slider = init.querySelector('[data-overlap-slider-list]');
      const slides = Array.from(init.querySelectorAll('[data-overlap-slider-item]'));

      if (!wrap || !slider || !slides.length) {
        console.warn("OverlappingSlider: missing required structure.");
        return;
      }

      wrap.style.touchAction = 'none';
      wrap.style.userSelect = 'none';

      let spacing = 0, slideW = 0, maxDrag = 0, dragX = 0, draggable;
      let currentIndex = 0;

      function clamp(value) {
        if (maxDrag <= 0) return 0;
        return Math.min(Math.max(value, 0), maxDrag);
      }

      function update() {
        gsap.set(slider, { x: -dragX });
        slides.forEach(function(slide, i) {
          const threshold = i * spacing;
          const local = Math.max(0, dragX - threshold);
          const t = spacing > 0 ? Math.min(local / spacing, 1) : 0;
          gsap.set(slide, {
            x: local,
            scale: 1 - (1 - minScale) * t,
            rotation: maxRotation * t,
            transformOrigin: '75% center'
          });
        });
      }

      function recalc() {
        if (!slides.length) return;
        const style = getComputedStyle(slides[0]);
        const gapRight = parseFloat(style.marginRight) || 0;
        slideW = slides[0].offsetWidth;
        spacing = slideW + gapRight;
        maxDrag = spacing * (slides.length - 1);
        dragX = clamp(dragX);
        update();
        if (draggable) draggable.applyBounds({ minX: -maxDrag, maxX: 0 });
      }

      function goToSlide(idx) {
        idx = Math.max(0, Math.min(idx, slides.length - 1));
        currentIndex = idx;
        const targetX = idx * spacing;
        gsap.to({ val: dragX }, {
          val: targetX,
          duration: 0.5,
          ease: "power2.out",
          onUpdate: function() {
            dragX = this.targets()[0].val;
            gsap.set(slider, { x: -dragX });
            update();
          }
        });
      }

      draggable = Draggable.create(slider, {
        type: 'x',
        bounds: { minX: -maxDrag, maxX: 0 },
        throwProps: false,
        onDrag: function() {
          dragX = clamp(-this.x);
          update();
        },
        onDragEnd: function() {
          const d = clamp(-this.x);
          const idx = spacing > 0 ? Math.round(d / spacing) : 0;
          currentIndex = idx;
          goToSlide(idx);
        }
      })[0];

      new ResizeObserver(function() { recalc(); }).observe(init);

      // Keyboard navigation
      let active = false;

      new IntersectionObserver(function(entries) {
        active = entries[0].isIntersecting;
      }, { threshold: 0.25 }).observe(init);

      window.addEventListener("keydown", function(e) {
        if (!active) return;
        if (e.key === "ArrowLeft") {
          e.preventDefault();
          goToSlide(currentIndex - 1);
        }
        if (e.key === "ArrowRight") {
          e.preventDefault();
          goToSlide(currentIndex + 1);
        }
      });

      // Button controls
      const prevBtn = document.getElementById('slider-prev');
      const nextBtn = document.getElementById('slider-next');

      if (prevBtn) prevBtn.addEventListener('click', function() { goToSlide(currentIndex - 1); });
      if (nextBtn) nextBtn.addEventListener('click', function() { goToSlide(currentIndex + 1); });

      // Expose goToSlide globally for external control
      window.profileSlider = { goToSlide, getCurrentIndex: () => currentIndex };

      recalc();
    });
  });
  </script>

  <!-- Webflow JS -->
  <script src="/assets/js/webflow.js" type="text/javascript"></script>
</body>
</html>
